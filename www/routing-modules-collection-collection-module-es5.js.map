{"version":3,"sources":["project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-collection-matmenu/auth-collection-matmenu.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-editor-options/auth-editor-options.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-of-contents/auth-table-of-contents.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-tree-label/auth-table-tree-label.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-toc/auth-toc.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/collection/collection.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-collection/course-collection.component.html","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-header/course-header.component.html","project/ws/author/src/lib/constants/depth-rule.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/collection-routing.module.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/collection.module.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-collection-matmenu/auth-collection-matmenu.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-collection-matmenu/auth-collection-matmenu.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-editor-options/auth-editor-options.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-editor-options/auth-editor-options.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-of-contents/auth-table-of-contents.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-of-contents/auth-table-of-contents.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-tree-label/auth-table-tree-label.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-table-tree-label/auth-table-tree-label.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-toc/auth-toc.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/auth-toc/auth-toc.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/collection/collection.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/collection/collection.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-collection/course-collection.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-collection/course-collection.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-header/course-header.component.scss","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/components/course-header/course-header.component.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/services/resolver.service.ts","project/ws/author/src/lib/routing/modules/editor/routing/modules/collection/services/store.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<mat-menu #childMenu=\\\"matMenu\\\">\\n\\n  <ng-container *ngFor=\\\"let option of childType\\\">\\n\\n\\n    <button\\n    *ngIf=\\\"option.children && option.children.length\\\"\\n    mat-menu-item\\n    (click)=\\\"click(type, option.id)\\\"\\n      [matMenuTriggerFor]=\\\"child.childMenu\\\"\\n      >\\n      <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\">{{\\n        option.icon\\n      }}</mat-icon>\\n      <ng-container>{{ option.name }}</ng-container>\\n      <ws-auth-collection-matmenu\\n      [type]=\\\"type\\\"\\n      [childType]=\\\"option.children\\\"\\n      (action)=\\\"click($event.action, $event.type)\\\"\\n      #child\\n      ></ws-auth-collection-matmenu>\\n    </button>\\n    <button\\n    *ngIf=\\\"!option.children || !option.children.length\\\"\\n     mat-menu-item\\n     (click)=\\\"click(type, option.id)\\\"\\n     >\\n      <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\">{{\\n        option.icon\\n      }}</mat-icon>\\n      <ng-container>{{ option.name }}</ng-container>\\n    </button>\\n\\n  </ng-container>\\n  <button (click)=\\\"click('delete')\\\"  mat-menu-item>\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Delete content\\\">\\n      delete</mat-icon>\\n    <ng-container i18n>Delete</ng-container>\\n    </button>\\n</mat-menu>\\n\"","export default \"<!-- <mat-icon aria-hidden=\\\"false\\\" class=\\\"menu-icon ws-mat-primary-text\\\" [class.ws-mat-warn-text]=\\\"isInvalid\\\"\\n  [class.ws-mat-primary-text]=\\\"!isInvalid\\\" [matMenuTriggerFor]=\\\"menu\\\" (click)=\\\"$event.stopPropagation()\\\" i18n-aria-label\\n  aria-label=\\\"Menu for content\\\">more_vert</mat-icon> -->\\n\\n  <button [hidden]=\\\"!allowedChild.length\\\" [class.op500]=\\\"!allowedChild.length\\\" mat-menu-item\\n    [matMenuTriggerFor]=\\\"child.childMenu\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Create New Child\\\">\\n      more_vert</mat-icon>\\n    <!-- <ng-container i18n>Create New Child</ng-container> -->\\n    <ws-auth-collection-matmenu [type]=\\\"'createChild'\\\" [childType]=\\\"allowedChild\\\"\\n      (action)=\\\"click($event.action, $event.type)\\\" #child></ws-auth-collection-matmenu>\\n      <button (click)=\\\"click('delete')\\\" [disabled]=\\\"!node.parentId && node.editable\\\"\\n      [class.op500]=\\\"!node.parentId && node.editable\\\" mat-menu-item>\\n      <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Delete content\\\">\\n        </mat-icon>\\n    </button>\\n  </button>\\n  <button *ngIf=\\\"node.category === 'Resource'\\\" [class.op500]=\\\"!canEdit\\\" [matMenuTriggerFor]=\\\"edit\\\" mat-menu-item\\n    [disabled]=\\\"!canEdit || (metaEditDisabled && contentEditDisabled)\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Edit content\\\"> more_vert\\n    </mat-icon>\\n    <!-- <ng-container i18n>Edit</ng-container> -->\\n  </button>\\n\\n\\n<!-- <mat-menu #menu=\\\"matMenu\\\"> -->\\n  <!--\\n  <button *ngIf=\\\"node.category === 'Resource'\\\" mat-menu-item (click)=\\\"click('preview')\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Preview\\\">\\n      remove_red_eye</mat-icon>\\n    <ng-container i18n>Preview</ng-container>\\n  </button>-->\\n  <!-- <button (click)=\\\"click('delete')\\\" [disabled]=\\\"!node.parentId && node.editable\\\"\\n    [class.op500]=\\\"!node.parentId && node.editable\\\" mat-menu-item>\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Delete content\\\">\\n      delete</mat-icon>\\n    <ng-container i18n>Delete</ng-container>\\n  </button>  -->\\n  <!-- <button [matMenuTriggerFor]=\\\"sibling.childMenu\\\" [disabled]=\\\"!node.parentId || !allowedSibling.length\\\"\\n    [class.op500]=\\\"!node.parentId || !allowedSibling.length\\\" mat-menu-item>\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Create New Sibling\\\">\\n      next_week</mat-icon>\\n    <ng-container i18n>Create New Sibling</ng-container>\\n    <ws-auth-collection-matmenu [type]=\\\"'createSibling'\\\" [childType]=\\\"allowedSibling\\\"\\n      (action)=\\\"click($event.action, $event.type)\\\" #sibling></ws-auth-collection-matmenu>\\n  </button> -->\\n\\n  <!-- <button *ngIf=\\\"node.category !== 'Resource'\\\" [disabled]=\\\"!canEdit || contentEditDisabled\\\"\\n    [class.op500]=\\\"!canEdit || contentEditDisabled\\\" mat-menu-item (click)=\\\"click('addChild')\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Add a Child\\\">\\n      library_add</mat-icon>\\n    <ng-container i18n>Add a Child</ng-container>\\n  </button> -->\\n<!-- </mat-menu> -->\\n\\n<mat-menu #edit=\\\"matMenu\\\">\\n  <!-- <button [disabled]=\\\"contentEditDisabled\\\" [class.op500]=\\\"contentEditDisabled\\\" mat-menu-item\\n    (click)=\\\"click('editContent')\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Edit content\\\">build\\n    </mat-icon>\\n    <ng-container i18n>Edit Content</ng-container>\\n  </button>\\n  <button mat-menu-item [disabled]=\\\"metaEditDisabled\\\" [class.op500]=\\\"metaEditDisabled\\\" (click)=\\\"click('editMeta')\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Edit content\\\">ballot\\n    </mat-icon>\\n    <ng-container i18n>Edit Meta</ng-container>\\n  </button> -->\\n  <button *ngIf=\\\"node.category === 'Resource'\\\" mat-menu-item (click)=\\\"click('preview')\\\">\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Preview\\\">\\n      remove_red_eye</mat-icon>\\n    <ng-container i18n>Preview</ng-container>\\n  </button>\\n  <button (click)=\\\"click('delete')\\\" [disabled]=\\\"!node.parentId && node.editable\\\"\\n    [class.op500]=\\\"!node.parentId && node.editable\\\" mat-menu-item>\\n    <mat-icon aria-hidden=\\\"false\\\" class=\\\"node-icon ws-mat-primary-text\\\" i18n-aria-label aria-label=\\\"Delete content\\\">\\n      delete</mat-icon>\\n    <ng-container i18n>Delete</ng-container>\\n  </button>\\n</mat-menu>\\n\"","export default \"<div class=\\\"flex\\\">\\n  <ng-container *ngIf=\\\"!mediumScreen\\\">\\n    <div *ngIf=\\\"!menubtn\\\" class=\\\"p-2 pt-4 transitionD\\\">\\n      <button\\n        mat-icon-button\\n        (click)=\\\"drawer = !drawer; menubtn = !menubtn\\\"\\n        i18n-aria-label\\n        aria-label=\\\"Maximize side panel\\\"\\n        i18n-matTooltip\\n        matTooltipPosition=\\\"right\\\"\\n        matTooltip=\\\"Open side panel\\\"\\n      >\\n        <mat-icon>menu</mat-icon>\\n      </button>\\n    </div>\\n  </ng-container>\\n  <div *ngIf=\\\"drawer\\\" class=\\\"transitionD\\\">\\n    <mat-card class=\\\"flex items-center mat-card custom-card\\\">\\n      <h2 class=\\\"flex mat-h w-full justify-center pt-5\\\" i18n>\\n        TABLE OF CONTENTS\\n      </h2>\\n\\n      <button\\n        *ngIf=\\\"!mediumScreen\\\"\\n        mat-icon-button\\n        (click)=\\\"drawer = !drawer; menubtn = !menubtn\\\"\\n        i18n-aria-label\\n        aria-label=\\\"Open side panel\\\"\\n        i18n-matTooltip\\n        matTooltipPosition=\\\"right\\\"\\n        matTooltip=\\\"Minimize side panel\\\"\\n      >\\n        <mat-icon>chevron_left</mat-icon>\\n      </button>\\n      <button\\n        *ngIf=\\\"mediumScreen\\\"\\n        mat-icon-button\\n        (click)=\\\"closeSidenav()\\\"\\n        i18n-aria-label\\n        aria-label=\\\"Close side panel\\\"\\n        i18n-matTooltip\\n        matTooltipPosition=\\\"right\\\"\\n        matTooltip=\\\"Close side panel\\\"\\n      >\\n        <mat-icon>keyboard_arrow_left</mat-icon>\\n      </button>\\n      <hr />\\n    </mat-card>\\n    <mat-tree\\n      [dataSource]=\\\"dataSource\\\"\\n      [treeControl]=\\\"treeControl\\\"\\n      cdkDropList\\n      cdkDropListSortingDisabled\\n      (cdkDropListDropped)=\\\"drop()\\\"\\n      class=\\\"px-2\\\"\\n    >\\n      <mat-tree-node\\n        class=\\\"auth-tree-node\\\"\\n        [class.selected]=\\\"node.id === selectedNode\\\"\\n        [class.ws-mat-warn-text]=\\\"invalidIds.includes(node.id)\\\"\\n        [matTreeNodePaddingIndent]=\\\"20\\\"\\n        *matTreeNodeDef=\\\"let node\\\"\\n        matTreeNodePadding\\n        cdkDrag=\\\"node.parent?.length && node.editable\\\"\\n        [cdkDragData]=\\\"node\\\"\\n        (mousemove)=\\\"dragHover(node, $event)\\\"\\n        (mouseleave)=\\\"dragHoverEnd($event)\\\"\\n        (cdkDragStarted)=\\\"dragStart(node)\\\"\\n        (cdkDragReleased)=\\\"dragEnd()\\\"\\n        (click)=\\\"onNodeSelect(node)\\\"\\n      >\\n        <div\\n          *ngIf=\\\"draggingPosition === 'above' && node === dropContainer && node.parentId\\\"\\n          class=\\\"placeholder\\\"\\n        >\\n          <span class=\\\"dot\\\"></span>\\n          <span class=\\\"line\\\"></span>\\n        </div>\\n        <button\\n          *ngIf=\\\"node.expandable\\\"\\n          mat-icon-button\\n          matTreeNodeToggle\\n          [attr.aria-label]=\\\"'toggle ' + node.name\\\"\\n        >\\n          <mat-icon\\n            class=\\\"mat-icon-rtl-mirror\\\"\\n            [class.ws-mat-warn-text]=\\\"invalidIds.includes(node.id)\\\"\\n            [class.ws-mat-primary-text]=\\\"!invalidIds.includes(node.id)\\\"\\n          >\\n            {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\\n          </mat-icon>\\n        </button>\\n        <button *ngIf=\\\"!node.expandable\\\" mat-icon-button disabled></button>\\n        <ws-auth-table-tree-label\\n          [isInvalid]=\\\"invalidIds.includes(node.id)\\\"\\n          [identifier]=\\\"node.identifier\\\"\\n          [isDragging]=\\\"isDragging\\\"\\n          [id]=\\\"node.id\\\"\\n        ></ws-auth-table-tree-label>\\n        <ws-auth-editor-options\\n          *ngIf=\\\"node.editable\\\"\\n          [isInvalid]=\\\"invalidIds.includes(node.id)\\\"\\n          (action)=\\\"takeAction($event.action, node, $event.type)\\\"\\n          [node]=\\\"node\\\"\\n        ></ws-auth-editor-options>\\n        <div *cdkDragPreview>\\n          <ws-auth-table-tree-label\\n            [identifier]=\\\"node.identifier\\\"\\n            [isDragging]=\\\"isDragging\\\"\\n            [icon]=\\\"\\n              isDropDisabled\\n                ? 'block'\\n                : !isDropDisabled && draggingPosition === 'center'\\n                ? 'add_circle'\\n                : 'format_indent_increase'\\n            \\\"\\n            [id]=\\\"node.id\\\"\\n          ></ws-auth-table-tree-label>\\n        </div>\\n        <div\\n          *ngIf=\\\"draggingPosition === 'below' && node === dropContainer && node.parentId\\\"\\n          class=\\\"placeholder second\\\"\\n        >\\n          <span class=\\\"dot\\\"></span>\\n          <span class=\\\"line\\\"></span>\\n        </div>\\n      </mat-tree-node>\\n    </mat-tree>\\n  </div>\\n</div>\\n\"","export default \"<div>\\n  <mat-icon\\n    class=\\\"node-icon\\\"\\n    [class.ws-mat-warn-text]=\\\"isInvalid\\\"\\n    [class.ws-mat-primary-text]=\\\"!isInvalid\\\"\\n    aria-hidden=\\\"false\\\"\\n    i18n-aria-label\\n    aria-label=\\\"icon\\\"\\n    >{{ icon }}</mat-icon\\n  >\\n  <span\\n    [matTooltipDisabled]=\\\"name?.length < 25 || isDragging\\\"\\n    [matTooltip]=\\\"name\\\"\\n    class=\\\"node-name\\\"\\n  >\\n    <ng-container *ngIf=\\\"name\\\">{{\\n      name.length > 25 ? name.slice(0, 22) + '...' : name\\n    }}</ng-container>\\n    <ng-container i18n *ngIf=\\\"!name\\\">Untitled Content</ng-container>\\n  </span>\\n</div>\\n\"","export default \"<div class=\\\"flex\\\">\\n  <ng-container *ngIf=\\\"!mediumScreen\\\">\\n    <div *ngIf=\\\"!menubtn\\\" class=\\\"p-2 pt-4 transitionD\\\">\\n      <button mat-icon-button (click)=\\\"drawer = !drawer; menubtn = !menubtn\\\" i18n-aria-label\\n        aria-label=\\\"Maximize side panel\\\" i18n-matTooltip matTooltipPosition=\\\"right\\\" matTooltip=\\\"Open side panel\\\">\\n        <mat-icon>menu</mat-icon>\\n      </button>\\n    </div>\\n  </ng-container>\\n  <div *ngIf=\\\"drawer\\\" class=\\\"transitionD\\\">\\n\\n    <mat-tree [dataSource]=\\\"dataSource\\\" [treeControl]=\\\"treeControl\\\" cdkDropList cdkDropListSortingDisabled\\n      (cdkDropListDropped)=\\\"drop()\\\" class=\\\"px-2\\\">\\n      <mat-tree-node class=\\\"auth-tree-node\\\" [class.selected]=\\\"node.id === selectedNode\\\"\\n        [class.ws-mat-warn-text]=\\\"invalidIds.includes(node.id)\\\" [matTreeNodePaddingIndent]=\\\"20\\\"\\n        *matTreeNodeDef=\\\"let node\\\" matTreeNodePadding cdkDrag=\\\"node.parent?.length && node.editable\\\"\\n        [cdkDragData]=\\\"node\\\" (mousemove)=\\\"dragHover(node, $event)\\\" (mouseleave)=\\\"dragHoverEnd($event)\\\"\\n        (cdkDragStarted)=\\\"dragStart(node)\\\" (cdkDragReleased)=\\\"dragEnd()\\\" (click)=\\\"onNodeSelect(node)\\\">\\n        <div *ngIf=\\\"draggingPosition === 'above' && node === dropContainer && node.parentId\\\" class=\\\"placeholder\\\">\\n          <span class=\\\"dot\\\"></span>\\n          <span class=\\\"line\\\"></span>\\n        </div>\\n        <button *ngIf=\\\"node.expandable\\\" mat-icon-button matTreeNodeToggle [attr.aria-label]=\\\"'toggle ' + node.name\\\">\\n          <mat-icon class=\\\"mat-icon-rtl-mirror\\\" [class.ws-mat-warn-text]=\\\"invalidIds.includes(node.id)\\\"\\n            [class.ws-mat-primary-text]=\\\"!invalidIds.includes(node.id)\\\">\\n            {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\\n          </mat-icon>\\n        </button>\\n        <button *ngIf=\\\"!node.expandable\\\" mat-icon-button disabled></button>\\n        <ws-auth-table-tree-label class=\\\"tree-label\\\" [isInvalid]=\\\"invalidIds.includes(node.id)\\\" [identifier]=\\\"node.identifier\\\"\\n          [isDragging]=\\\"isDragging\\\" [id]=\\\"node.id\\\"></ws-auth-table-tree-label>\\n\\n        <ws-auth-editor-options  class=\\\"editor-options\\\" *ngIf=\\\"node.editable\\\" [isInvalid]=\\\"invalidIds.includes(node.id)\\\"\\n          (action)=\\\"takeAction($event.action, node, $event.type)\\\" [node]=\\\"node\\\"></ws-auth-editor-options>\\n        <div *cdkDragPreview>\\n          <ws-auth-table-tree-label [identifier]=\\\"node.identifier\\\" [isDragging]=\\\"isDragging\\\" [icon]=\\\"\\n              isDropDisabled\\n                ? 'block'\\n                : !isDropDisabled && draggingPosition === 'center'\\n                ? 'add_circle'\\n                : 'format_indent_increase'\\n            \\\" [id]=\\\"node.id\\\"></ws-auth-table-tree-label>\\n        </div>\\n        <div *ngIf=\\\"draggingPosition === 'below' && node === dropContainer && node.parentId\\\" class=\\\"placeholder second\\\">\\n          <span class=\\\"dot\\\"></span>\\n          <span class=\\\"line\\\"></span>\\n        </div>\\n      </mat-tree-node>\\n    </mat-tree>\\n  </div>\\n</div>\\n\"","export default \"<ng-container *ngIf=\\\"!previewIdentifier\\\">\\n  <ws-auth-editor-action-buttons (action)=\\\"action($event)\\\" [buttonConfig]=\\\"actionButton\\\">\\n  </ws-auth-editor-action-buttons>\\n  <ws-auth-editor-steps\\n    [steps]=\\\"stepper\\\"\\n    [currentStep]=\\\"currentStep\\\"\\n    (change)=\\\"currentStep = $event\\\"\\n  >\\n  </ws-auth-editor-steps>\\n  <div *ngIf=\\\"mediumScreen\\\">\\n    <div class=\\\"ui\\\" [ngClass]=\\\"{ toHide: !leftArrow }\\\">\\n      <button\\n        class=\\\"p-1\\\"\\n        mat-icon-button\\n        (click)=\\\"sidenav.toggle(); leftArrow = !leftArrow\\\"\\n        i18n-aria-label\\n        aria-label=\\\"Open side panel\\\"\\n        i18n-matTooltip\\n        matTooltipPosition=\\\"right\\\"\\n        matTooltip=\\\"Open side panel\\\"\\n      >\\n        <mat-icon>keyboard_arrow_right</mat-icon>\\n      </button>\\n    </div>\\n  </div>\\n  <mat-sidenav-container autosize=\\\"true\\\" id=\\\"auth-toc\\\" class=\\\"example-container\\\">\\n    <mat-sidenav\\n      #sidenav\\n      [mode]=\\\"mode$ | async\\\"\\n      [(opened)]=\\\"sideBarOpened\\\"\\n      (closedStart)=\\\"sidenavClose()\\\"\\n    >\\n      <div class=\\\"sticky\\\">\\n        <ws-auth-table-of-contents\\n          (action)=\\\"subAction($event)\\\"\\n          (closeEvent)=\\\"sidenav.toggle(); leftArrow = !leftArrow\\\"\\n        ></ws-auth-table-of-contents>\\n      </div>\\n    </mat-sidenav>\\n\\n    <mat-sidenav-content class=\\\"pl-6 pr-6 ml-6\\\">\\n      <div>\\n        <ws-auth-edit-meta\\n          [parentContent]=\\\"currentParentId\\\"\\n          [class.hidden]=\\\"viewMode !== 'meta'\\\"\\n          [isSubmitPressed]=\\\"isSubmitPressed\\\"\\n          (data)=\\\"action($event)\\\"\\n        ></ws-auth-edit-meta>\\n        <ws-auth-url-upload\\n          [isCollectionEditor]=\\\"true\\\"\\n          *ngIf=\\\"viewMode === 'curate'\\\"\\n          [isSubmitPressed]=\\\"isSubmitPressed\\\"\\n          (data)=\\\"action($event)\\\"\\n        ></ws-auth-url-upload>\\n        <ws-auth-file-upload\\n          [isCollectionEditor]=\\\"true\\\"\\n          *ngIf=\\\"viewMode === 'upload'\\\"\\n          [isSubmitPressed]=\\\"isSubmitPressed\\\"\\n          (data)=\\\"action($event)\\\"\\n        >\\n        </ws-auth-file-upload>\\n      </div>\\n    </mat-sidenav-content>\\n  </mat-sidenav-container>\\n</ng-container>\\n<div *ngIf=\\\"previewIdentifier\\\">\\n  <mat-icon\\n    (click)=\\\"closePreview()\\\"\\n    class=\\\"close-preview\\\"\\n    matTooltip=\\\"Back\\\"\\n    i18n-matTooltip=\\\"Back button to go to previous page\\\"\\n  >\\n    arrow_back</mat-icon\\n  >\\n  <ws-auth-viewer [identifier]=\\\"previewIdentifier\\\" [mimeTypeRoute]=\\\"mimeTypeRoute\\\"></ws-auth-viewer>\\n</div>\\n\"","export default \"<ws-author-course-header [buttonConfig]=\\\"actionButton\\\" (action)=\\\"action($event)\\\" (subAction)=\\\"subAction($event)\\\">\\n</ws-author-course-header>\\n\\n<mat-drawer-container autosize=\\\"true\\\" id=\\\"auth-toc\\\" class=\\\"example-container\\\">\\n  <mat-drawer mode=\\\"side\\\" [(opened)]=\\\"sideBarOpened\\\">\\n\\n    <div class=\\\"sticky\\\">\\n      <!-- (closeEvent)=\\\"sidenav.toggle(); leftArrow = !leftArrow\\\" check on this -->\\n\\n      <ws-author-auth-toc (action)=\\\"subAction($event)\\\" [createdFromCourse]=\\\"couseCreated\\\">\\n      </ws-author-auth-toc>\\n\\n      <div class=\\\"margin-left-l margin-top-m \\\">\\n        <a class=\\\"flex flex-middle margin-left-l\\\" (click)=\\\"showAddchapter = true\\\"><span class=\\\"material-icons\\\">\\n            add\\n          </span>\\n          <p class=\\\"margin-left-xs margin-remove-bottom cursor-pointer\\\">Add Content</p>\\n        </a>\\n\\n\\n      </div>\\n\\n    </div>\\n\\n  </mat-drawer>\\n  <mat-drawer-content>\\n\\n\\n\\n    <mat-sidenav-container class=\\\"nav-container\\\">\\n\\n\\n      <form [formGroup]=\\\"createTopicForm\\\" *ngIf=\\\"showAddchapter\\\" class=\\\"margin-left-l\\\">\\n        <div class=\\\"margin-top-s\\\">\\n          <h1>Build your course by adding Topics</h1>\\n          <p>Add your content, quizzes, discussions and publish</p>\\n          <p class=\\\"required margin-remove-bottom\\\">\\n            Hi, Lets start with a Topic name\\n          </p>\\n          <div class=\\\"margin-top-xs width-3-5\\\">\\n            <mat-form-field appearance=\\\"outline\\\" class=\\\"margin-top-xs width-1-4\\\">\\n              <input matInput i18n-placeholder placeholder=\\\"Topic Name\\\" formControlName=\\\"topicName\\\" />\\n            </mat-form-field>\\n          </div>\\n          <div class=\\\"margin-top-xs width-3-5\\\">\\n            <mat-form-field appearance=\\\"outline\\\" class=\\\"margin-top-xs width-1-4\\\">\\n              <textarea matInput i18n-placeholder placeholder=\\\"Topic Description\\\" formControlName=\\\"topicDescription\\\">\\n            </textarea>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n        <div class=\\\"example-button-container\\\">\\n\\n          <button mat-raised-button (click)=\\\"showAddchapter=false\\\" class=\\\"\\n          text-white ws-mat-primary-background  mat-button-base margin-right-xl\\\">Cancel</button>\\n\\n          <button mat-raised-button [disabled]=\\\"!createTopicForm.valid\\\" [matMenuTriggerFor]=\\\"menu\\\"\\n            aria-label=\\\"Example icon-button with a menu\\\" class=\\\"text-white ws-mat-primary-background  mat-button-base\\\">\\n            <mat-icon>add</mat-icon> Add Topic/Resource\\n          </button>\\n\\n\\n\\n          <mat-menu #menu=\\\"matMenu\\\">\\n            <button mat-menu-item (click)=\\\"setContentType('collection')\\\">\\n              <mat-icon>book</mat-icon>\\n              <span>Topic</span>\\n            </button>\\n            <button mat-menu-item (click)=\\\"setContentType('assessment')\\\">\\n              <mat-icon>check_circle</mat-icon>\\n              <span>Add Assessment</span>\\n            </button>\\n            <button mat-menu-item (click)=\\\"setContentType('web')\\\">\\n              <mat-icon>link</mat-icon>\\n              <span>Attach a link</span>\\n            </button>\\n            <button mat-menu-item (click)=\\\"setContentType('upload')\\\">\\n              <mat-icon>cloud_upload</mat-icon>\\n              <span>Upload content</span>\\n            </button>\\n            <button mat-menu-item (click)=\\\"setContentType('webModule')\\\">\\n              <mat-icon>insert_drive_file</mat-icon>\\n              <span>Web Page</span>\\n            </button>\\n\\n          </mat-menu>\\n        </div>\\n\\n      </form>\\n\\n      <ws-auth-url-upload [isCollectionEditor]=\\\"true\\\" *ngIf=\\\"!showAddchapter && viewMode === 'curate'\\\"\\n        [isSubmitPressed]=\\\"isSubmitPressed\\\" (data)=\\\"action($event)\\\"></ws-auth-url-upload>\\n      <ws-auth-file-upload [isCollectionEditor]=\\\"true\\\" *ngIf=\\\"!showAddchapter && viewMode === 'upload'\\\"\\n        [isSubmitPressed]=\\\"isSubmitPressed\\\" (data)=\\\"action($event)\\\">\\n      </ws-auth-file-upload>\\n      <ws-auth-quiz [isCollectionEditor]=\\\"true\\\" *ngIf=\\\"!showAddchapter && viewMode === 'assessment'\\\"\\n        [isSubmitPressed]=\\\"isSubmitPressed\\\" (data)=\\\"action($event)\\\"></ws-auth-quiz>\\n\\n        <ws-auth-web-module-editor  *ngIf=\\\"!showAddchapter && viewMode === 'webmodule'\\\" (data)=\\\"action($event)\\\">\\n        </ws-auth-web-module-editor>\\n\\n      <ws-auth-edit-meta [parentContent]=\\\"currentParentId\\\" [isSubmitPressed]=\\\"isSubmitPressed\\\" (data)=\\\"action($event)\\\"\\n        *ngIf=\\\"!showAddchapter && viewMode === 'meta'\\\"></ws-auth-edit-meta>\\n\\n      <!--  [class.hidden]=\\\"viewMode !== 'meta'\\\" -->\\n\\n      <ws-auth-edit-meta [parentContent]=\\\"currentParentId\\\" [isSubmitPressed]=\\\"isSubmitPressed\\\" (data)=\\\"action($event)\\\"\\n        *ngIf=\\\"!showAddchapter && viewMode !== 'meta'\\\"></ws-auth-edit-meta>\\n\\n\\n    </mat-sidenav-container>\\n  </mat-drawer-content>\\n</mat-drawer-container>\\n\"","export default \"<mat-toolbar class=\\\"mat-primary mat-elevation-z3\\\">\\n\\n  <span class=\\\"material-icons\\\" routerLink=\\\"/page/home\\\" i18n-matTooltip matTooltip=\\\"Home\\\">\\n    home\\n  </span>\\n\\n  <img [src]=\\\"appIcon \\\" alt=\\\" Logo\\\" class=\\\"app-logo viewer-logo\\\" />\\n\\n\\n\\n  <ng-container *ngIf=\\\" courseNameHeader\\\">\\n    <a routerLink=\\\"/page/home\\\" i18n-matTooltip matTooltip=\\\"Home\\\" class=\\\"logo-dim\\\">\\n      <img [src]=\\\"appIcon\\\" alt=\\\"Application Logo\\\" id=\\\"app-logo\\\" class=\\\"app-logo\\\" />\\n    </a>\\n    <h3 class=\\\"mt-name margin-left-l\\\">{{courseNameHeader}}</h3>\\n\\n    <span class=\\\"spacer width-1-1\\\"></span>\\n\\n    <mat-icon i18n-matTooltip matTooltip=\\\"Course Settings\\\" class=\\\"margin-right-l\\\" (click)=\\\"showCourseSettings()\\\">\\n      settings</mat-icon>\\n\\n    <div *ngFor=\\\"let button of requiredConfig || []\\\" class=\\\"button-grid cursor-pointer\\\"\\n      (click)=\\\"action.next(button.event)\\\">\\n      <button mat-raised-button class=\\\" header-btn text-white ws-mat-primary-background mat-button-base margin-right-l\\\">\\n        <!-- <mat-icon class=\\\"text-white small-icon ws-mat-primary-text\\\">{{ button.icon }}</mat-icon> -->\\n        {{ button.title }}\\n      </button>\\n\\n    </div>\\n\\n\\n    <!-- <button  mat-raised-button i18n class=\\\"header-btn text-white ws-mat-primary-background mat-button-base\\\" (click)=\\\"headerService.saveCourseContent()\\\">\\n          Save</button> -->\\n\\n\\n  </ng-container>\\n\\n\\n\\n  <span class=\\\"header-spacer\\\"></span>\\n\\n\\n\\n\\n</mat-toolbar>\"","export const DEPTH_RUE: any = {\n  'Learning Path': 4,\n  Course: 3,\n  Collection: 2,\n  Resource: 1,\n}\n","import { CourseCollectionComponent } from './components/course-collection/course-collection.component'\n// import { CollectionComponent } from './components/collection/collection.component'\nimport { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CourseCollectionComponent,\n  },\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [],\n})\nexport class CollectionRoutingModule { }\n","import { DragDropModule } from '@angular/cdk/drag-drop'\nimport { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { MatTreeModule } from '@angular/material/tree'\nimport { SharedModule } from '@ws/author/src/lib/modules/shared/shared.module'\nimport { AuthViewerModule } from '@ws/author/src/lib/modules/viewer/viewer.module'\nimport { EditorSharedModule } from '@ws/author/src/lib/routing/modules/editor/shared/shared.module'\nimport { CurateModule } from './../curate/curate.module'\nimport { UploadModule } from './../upload/upload.module'\nimport { CollectionRoutingModule } from './collection-routing.module'\nimport { AuthCollectionMatmenuComponent } from './components/auth-collection-matmenu/auth-collection-matmenu.component'\nimport { AuthEditorOptionsComponent } from './components/auth-editor-options/auth-editor-options.component'\nimport { AuthTableOfContentsComponent } from './components/auth-table-of-contents/auth-table-of-contents.component'\nimport { AuthTableTreeLabelComponent } from './components/auth-table-tree-label/auth-table-tree-label.component'\nimport { CollectionComponent } from './components/collection/collection.component'\nimport { CourseCollectionComponent } from './components/course-collection/course-collection.component'\nimport { AuthTocComponent } from './components/auth-toc/auth-toc.component'\nimport { QuizModule } from './../quiz/quiz.module'\nimport { CourseHeaderComponent } from './components/course-header/course-header.component'\nimport { BtnPageBackModule } from '@ws-widget/collection'\nimport { WebPageModule } from './../web-page/web-page.module'\n\nimport {\n  MatToolbarModule,\n  MatIconModule,\n  MatButtonModule,\n  MatTooltipModule,\n} from '@angular/material'\n\n@NgModule({\n  declarations: [\n    CollectionComponent,\n    AuthTableOfContentsComponent,\n    AuthEditorOptionsComponent,\n    AuthTableTreeLabelComponent,\n    AuthCollectionMatmenuComponent,\n    CourseCollectionComponent,\n    AuthTocComponent,\n    CourseHeaderComponent,\n  ],\n  imports: [\n    CommonModule,\n    CollectionRoutingModule,\n    SharedModule,\n    EditorSharedModule,\n    MatTreeModule,\n    DragDropModule,\n    AuthViewerModule,\n    UploadModule,\n    CurateModule,\n    QuizModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    BtnPageBackModule,\n    WebPageModule,\n  ],\n})\nexport class CollectionModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLWNvbGxlY3Rpb24tbWF0bWVudS9hdXRoLWNvbGxlY3Rpb24tbWF0bWVudS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core'\nimport { ICustomCreateEntity } from './../../interface/create-menu'\n\n@Component({\n  selector: 'ws-auth-collection-matmenu',\n  templateUrl: './auth-collection-matmenu.component.html',\n  styleUrls: ['./auth-collection-matmenu.component.scss'],\n})\nexport class AuthCollectionMatmenuComponent implements OnInit {\n  @Output() action = new EventEmitter<{ action: string; type?: string }>()\n  @Input() type!: string\n  @Input() childType!: ICustomCreateEntity[]\n  @ViewChild('childMenu', { static: true }) public childMenu!: any\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  click(action: string, type?: string) {\n    this.action.emit({ action, type })\n  }\n}\n","export default \".op500 {\\n  opacity: 0.5;\\n}\\n\\n.menu-icon {\\n  position: relative;\\n  top: 2px;\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLWVkaXRvci1vcHRpb25zL2F1dGgtZWRpdG9yLW9wdGlvbnMuY29tcG9uZW50LnNjc3MiLCJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLWVkaXRvci1vcHRpb25zL2F1dGgtZWRpdG9yLW9wdGlvbnMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0FDQ0YiLCJmaWxlIjoicHJvamVjdC93cy9hdXRob3Ivc3JjL2xpYi9yb3V0aW5nL21vZHVsZXMvZWRpdG9yL3JvdXRpbmcvbW9kdWxlcy9jb2xsZWN0aW9uL2NvbXBvbmVudHMvYXV0aC1lZGl0b3Itb3B0aW9ucy9hdXRoLWVkaXRvci1vcHRpb25zLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm9wNTAwIHtcbiAgb3BhY2l0eTogMC41O1xufVxuXG4ubWVudS1pY29uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuIiwiLm9wNTAwIHtcbiAgb3BhY2l0eTogMC41O1xufVxuXG4ubWVudS1pY29uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgZm9udC1zaXplOiAyMHB4O1xufSJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core'\nimport { DEPTH_RUE } from '@ws/author/src/lib/constants/depth-rule'\nimport { ICreateEntity } from '@ws/author/src/lib/interface/create-entity'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { ICustomCreateEntity } from './../../interface/create-menu'\nimport { IContentNode, IContentTreeNode } from './../../interface/icontent-tree'\nimport { CollectionStoreService } from './../../services/store.service'\n\n@Component({\n  selector: 'ws-auth-editor-options',\n  templateUrl: './auth-editor-options.component.html',\n  styleUrls: ['./auth-editor-options.component.scss'],\n})\nexport class AuthEditorOptionsComponent implements OnInit {\n  @Input() node!: IContentTreeNode\n  @Input() isInvalid = true\n  @Output() action = new EventEmitter<{ action: string; type?: string }>()\n  creationContent!: Map<string, ICreateEntity>\n  allowedChild: ICustomCreateEntity[] = []\n  allowedSibling: ICustomCreateEntity[] = []\n  canEdit = false\n  contentEditDisabled = false\n  metaEditDisabled = false\n\n  constructor(\n    private authInitService: AuthInitService,\n    private accessService: EditorContentService,\n    private storeService: CollectionStoreService,\n  ) { }\n\n  ngOnInit() {\n    this.creationContent = this.authInitService.creationEntity\n    const childrenConfig = this.authInitService.collectionConfig.childrenConfig\n    const contentTypeConfig = childrenConfig[this.node.category]\n    const content = this.accessService.getUpdatedMeta(this.node.identifier)\n    this.contentEditDisabled = content.isContentEditingDisabled\n    this.metaEditDisabled = content.isMetaEditingDisabled\n    this.canEdit = this.accessService.hasAccess(content)\n    if (\n      contentTypeConfig &&\n      this.node.editable &&\n      this.canEdit &&\n      contentTypeConfig.allowCreation\n    ) {\n      this.allowedChild = this.formChildren(contentTypeConfig, this.node.level + 1)\n    }\n    if (this.node.parentId) {\n      const parentType = this.storeService.flatNodeMap.get(this.node.parentId) as IContentNode\n      const parentContent = this.accessService.getUpdatedMeta(parentType.identifier)\n      if (\n        parentType &&\n        childrenConfig[parentType.category] &&\n        this.node.editable &&\n        !parentContent.isContentEditingDisabled &&\n        this.accessService.hasAccess(parentContent) &&\n        childrenConfig[parentType.category].allowCreation\n      ) {\n        this.allowedSibling = this.formChildren(\n          childrenConfig[parentType.category],\n          this.node.level,\n        )\n      }\n    }\n  }\n\n  formChildren(contentTypeConfig: any, currentDepth: number): ICustomCreateEntity[] {\n\n    const topLevel = Array.from(this.creationContent.values())\n    const child: ICustomCreateEntity[] = []\n\n    topLevel.forEach(v => {\n      if (\n        v.id !== 'resource' &&\n        v.id !== 'collection' &&\n        contentTypeConfig.allowedCreationType &&\n        contentTypeConfig.allowedCreationType.includes(v.id) &&\n        this.authInitService.collectionConfig.maxDepth >=\n        currentDepth + (DEPTH_RUE[v.contentType] || 1)\n      ) {\n        child.push(\n          this.recursiveAddFunction(v),\n        )\n      }\n    })\n    return child\n  }\n  recursiveAddFunction(\n    content: ICreateEntity,\n  ): ICustomCreateEntity {\n    const children: ICustomCreateEntity[] = []\n    const returnValue: ICustomCreateEntity = {\n      children,\n      id: content.id,\n      name: content.name,\n      icon: content.icon,\n    }\n    // if (content.id === 'resource' && content.children) {\n    //   // console.log('children==>', content.children)\n    //   content.children.forEach(v => {\n    //     const entity = this.authInitService.creationEntity.get(v)\n    //     // console.log('entity==>', entity)\n    //     if (\n    //       entity &&\n    //       allowedType.includes(entity.id) &&\n    //       this.authInitService.collectionConfig.maxDepth >=\n    //       currentDepth + (DEPTH_RUE[entity.contentType] || 1)\n    //     ) {\n    //       children.push(this.recursiveAddFunction(entity, allowedType, currentDepth))\n    //     }\n    //   })\n    // }\n    return returnValue\n  }\n\n  click(action: string, type?: string) {\n    this.action.emit({ action, type })\n  }\n}\n","export default \".custom-card {\\n  height: 60px;\\n  line-height: 50px;\\n}\\n\\n.node-name {\\n  max-width: 185px;\\n  min-width: 145px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 1;\\n  /* number of lines to show */\\n  -webkit-box-orient: vertical;\\n}\\n\\n.node-name + .placeholder {\\n  margin-top: 19px;\\n}\\n\\n.placeholder {\\n  z-index: 2;\\n  margin-top: -24px;\\n  position: absolute;\\n}\\n\\n.placeholder.second {\\n  margin-top: 16px;\\n}\\n\\n.placeholder .dot {\\n  position: absolute;\\n  background: #e3165b;\\n  border-radius: 10px;\\n  height: 6px;\\n  width: 6px;\\n}\\n\\n.placeholder .line {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.54);\\n  left: 6px;\\n  top: 2px;\\n  height: 1px;\\n  width: 144px;\\n}\\n\\n.mat-tree-node {\\n  cursor: pointer;\\n  min-height: 35px !important;\\n  height: 35px !important;\\n  margin-top: 5px;\\n  border-radius: 5px;\\n}\\n\\n.cdk-drag-preview {\\n  background-color: grey;\\n  margin-top: 15px;\\n  margin-left: 15px;\\n  position: relative;\\n  padding: 5px;\\n}\\n\\n.cdk-drag-preview mat-icon {\\n  top: 4px;\\n  position: absolute;\\n}\\n\\n.cdk-drag-preview span {\\n  margin-left: 30px;\\n}\\n\\n.node-icon {\\n  padding-left: 5px;\\n  padding-right: 10px;\\n  top: 1px;\\n  position: relative;\\n}\\n\\n.menu-icon {\\n  position: relative;\\n  top: 2px;\\n  font-size: 20px;\\n}\\n\\n.mat-menu-content {\\n  padding: 0px;\\n}\\n\\n.mat-menu-item {\\n  height: 35px;\\n  line-height: 35px;\\n  min-width: 200px;\\n}\\n\\nmat-tree {\\n  max-height: 650px;\\n  overflow: hidden;\\n  width: 310px;\\n  -webkit-overflow-scrolling: touch;\\n}\\n\\nmat-tree:hover {\\n  overflow: auto;\\n}\\n\\nmat-tree::-webkit-scrollbar {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n@media (hover: none) {\\n  mat-tree::-webkit-scrollbar {\\n    width: 0px !important;\\n    height: 0px !important;\\n  }\\n}\\n\\n@media (pointer: coarse) {\\n  mat-tree::-webkit-scrollbar {\\n    width: 0px !important;\\n    height: 0px !important;\\n  }\\n  mat-tree::-webkit-scrollbar::-webkit-scrollbar-track {\\n    background: transparent;\\n  }\\n}\\n\\nmat-tree::-webkit-scrollbar-track {\\n  background: #cfcfcf;\\n}\\n\\nmat-tree::-webkit-scrollbar-thumb {\\n  background: #9e9e9e;\\n}\\n\\nmat-tree::-webkit-scrollbar-thumb:hover {\\n  background: #707070;\\n}\\n\\n.op500 {\\n  opacity: 0.5;\\n}\\n\\n.drag {\\n  margin-right: 10px;\\n}\\n\\n.transitionD {\\n  transition: all 1s;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLXRhYmxlLW9mLWNvbnRlbnRzL2F1dGgtdGFibGUtb2YtY29udGVudHMuY29tcG9uZW50LnNjc3MiLCJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLXRhYmxlLW9mLWNvbnRlbnRzL2F1dGgtdGFibGUtb2YtY29udGVudHMuY29tcG9uZW50LnNjc3MiLCIvaG9tZS9zb25hc2hhanUvVmlkZW9zL3NwaGVyZS1tb2JpbGUvc3R5bGVzL193cy12YXJzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7QUNGRjs7QURNQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUF1Qiw0QkFBQTtFQUN2Qiw0QkFBQTtBQ0ZGOztBREtBO0VBQ0UsZ0JBQUE7QUNGRjs7QURLQTtFQUNFLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDRkY7O0FESUU7RUFDRSxnQkFBQTtBQ0ZKOztBREtFO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7QUNISjs7QURNRTtFQUNFLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDSko7O0FEUUE7RUFDRSxlQUFBO0VBQ0EsMkJBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQ0xGOztBRFFBO0VBQ0Usc0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FDTEY7O0FET0U7RUFDRSxRQUFBO0VBQ0Esa0JBQUE7QUNMSjs7QURRRTtFQUNFLGlCQUFBO0FDTko7O0FEVUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0FDUEY7O0FEVUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0FDUEY7O0FEVUE7RUFDRSxZQUFBO0FDUEY7O0FEVUE7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ1BGOztBRFVBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFLQSxpQ0FBQTtBQ1hGOztBRE9FO0VBQ0UsY0FBQTtBQ0xKOztBRFVFO0VBQ0UsVUVwR007RUZxR04sV0VyR007QUQ2RlY7O0FEVUk7RUFKRjtJQU1JLHFCQURjO0lBRWQsc0JBRmM7RUNObEI7QUFDRjs7QURVSTtFQVZGO0lBWUkscUJBRGM7SUFFZCxzQkFGYztFQ05sQjtFRFVJO0lBQ0UsdUJBQUE7RUNSTjtBQUNGOztBRFlFO0VBQ0UsbUJBQUE7QUNWSjs7QURhRTtFQUNFLG1CQUFBO0FDWEo7O0FEY0U7RUFDRSxtQkFBQTtBQ1pKOztBRGdCQTtFQUNFLFlBQUE7QUNiRjs7QURnQkE7RUFDRSxrQkFBQTtBQ2JGOztBRGdCQTtFQUNFLGtCQUFBO0FDYkYiLCJmaWxlIjoicHJvamVjdC93cy9hdXRob3Ivc3JjL2xpYi9yb3V0aW5nL21vZHVsZXMvZWRpdG9yL3JvdXRpbmcvbW9kdWxlcy9jb2xsZWN0aW9uL2NvbXBvbmVudHMvYXV0aC10YWJsZS1vZi1jb250ZW50cy9hdXRoLXRhYmxlLW9mLWNvbnRlbnRzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnc3R5bGVzL193cy12YXJzLnNjc3MnO1xuQGltcG9ydCAnc3R5bGVzL193cy1taXhpbnMuc2Nzcyc7XG5cbi5jdXN0b20tY2FyZCB7XG4gIGhlaWdodDogNjBweDtcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gIC8vdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubm9kZS1uYW1lIHtcbiAgbWF4LXdpZHRoOiAxODVweDtcbiAgbWluLXdpZHRoOiAxNDVweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAtd2Via2l0LWxpbmUtY2xhbXA6IDE7IC8qIG51bWJlciBvZiBsaW5lcyB0byBzaG93ICovXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG59XG5cbi5ub2RlLW5hbWUgKyAucGxhY2Vob2xkZXIge1xuICBtYXJnaW4tdG9wOiAxOXB4O1xufVxuXG4ucGxhY2Vob2xkZXIge1xuICB6LWluZGV4OiAyO1xuICBtYXJnaW4tdG9wOiAtMjRweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gICYuc2Vjb25kIHtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICB9XG5cbiAgLmRvdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJhY2tncm91bmQ6ICNlMzE2NWI7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBoZWlnaHQ6IDZweDtcbiAgICB3aWR0aDogNnB4O1xuICB9XG5cbiAgLmxpbmUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNTQpO1xuICAgIGxlZnQ6IDZweDtcbiAgICB0b3A6IDJweDtcbiAgICBoZWlnaHQ6IDFweDtcbiAgICB3aWR0aDogMTQ0cHg7XG4gIH1cbn1cblxuLm1hdC10cmVlLW5vZGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1pbi1oZWlnaHQ6IDM1cHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAzNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uY2RrLWRyYWctcHJldmlldyB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHBhZGRpbmc6IDVweDtcblxuICBtYXQtaWNvbiB7XG4gICAgdG9wOiA0cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICB9XG5cbiAgc3BhbiB7XG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XG4gIH1cbn1cblxuLm5vZGUtaWNvbiB7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICB0b3A6IDFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubWVudS1pY29uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4ubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDBweDtcbn1cblxuLm1hdC1tZW51LWl0ZW0ge1xuICBoZWlnaHQ6IDM1cHg7XG4gIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xufVxuXG5tYXQtdHJlZSB7XG4gIG1heC1oZWlnaHQ6IDY1MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMzEwcHg7XG4gICY6aG92ZXIge1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICB9XG5cbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuXG4gICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogJHNpemUteHM7XG4gICAgaGVpZ2h0OiAkc2l6ZS14cztcblxuICAgIEBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgICAgICRzY3JvbGwtc2l6ZTogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogJHNjcm9sbC1zaXplO1xuICAgICAgaGVpZ2h0OiAkc2Nyb2xsLXNpemU7XG4gICAgfVxuXG4gICAgQG1lZGlhIChwb2ludGVyOiBjb2Fyc2UpIHtcbiAgICAgICRzY3JvbGwtc2l6ZTogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogJHNjcm9sbC1zaXplO1xuICAgICAgaGVpZ2h0OiAkc2Nyb2xsLXNpemU7XG5cbiAgICAgICY6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgJjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6ICNjZmNmY2Y7XG4gIH1cblxuICAmOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZDogIzllOWU5ZTtcbiAgfVxuXG4gICY6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjNzA3MDcwO1xuICB9XG59XG5cbi5vcDUwMCB7XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLmRyYWcge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi50cmFuc2l0aW9uRCB7XG4gIHRyYW5zaXRpb246IGFsbCAxcztcbn1cbiIsIi5jdXN0b20tY2FyZCB7XG4gIGhlaWdodDogNjBweDtcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XG59XG5cbi5ub2RlLW5hbWUge1xuICBtYXgtd2lkdGg6IDE4NXB4O1xuICBtaW4td2lkdGg6IDE0NXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gIC13ZWJraXQtbGluZS1jbGFtcDogMTtcbiAgLyogbnVtYmVyIG9mIGxpbmVzIHRvIHNob3cgKi9cbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbn1cblxuLm5vZGUtbmFtZSArIC5wbGFjZWhvbGRlciB7XG4gIG1hcmdpbi10b3A6IDE5cHg7XG59XG5cbi5wbGFjZWhvbGRlciB7XG4gIHotaW5kZXg6IDI7XG4gIG1hcmdpbi10b3A6IC0yNHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG4ucGxhY2Vob2xkZXIuc2Vjb25kIHtcbiAgbWFyZ2luLXRvcDogMTZweDtcbn1cbi5wbGFjZWhvbGRlciAuZG90IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kOiAjZTMxNjViO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBoZWlnaHQ6IDZweDtcbiAgd2lkdGg6IDZweDtcbn1cbi5wbGFjZWhvbGRlciAubGluZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjU0KTtcbiAgbGVmdDogNnB4O1xuICB0b3A6IDJweDtcbiAgaGVpZ2h0OiAxcHg7XG4gIHdpZHRoOiAxNDRweDtcbn1cblxuLm1hdC10cmVlLW5vZGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1pbi1oZWlnaHQ6IDM1cHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAzNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uY2RrLWRyYWctcHJldmlldyB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHBhZGRpbmc6IDVweDtcbn1cbi5jZGstZHJhZy1wcmV2aWV3IG1hdC1pY29uIHtcbiAgdG9wOiA0cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbi5jZGstZHJhZy1wcmV2aWV3IHNwYW4ge1xuICBtYXJnaW4tbGVmdDogMzBweDtcbn1cblxuLm5vZGUtaWNvbiB7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICB0b3A6IDFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubWVudS1pY29uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4ubWF0LW1lbnUtY29udGVudCB7XG4gIHBhZGRpbmc6IDBweDtcbn1cblxuLm1hdC1tZW51LWl0ZW0ge1xuICBoZWlnaHQ6IDM1cHg7XG4gIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xufVxuXG5tYXQtdHJlZSB7XG4gIG1heC1oZWlnaHQ6IDY1MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMzEwcHg7XG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcbn1cbm1hdC10cmVlOmhvdmVyIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5tYXQtdHJlZTo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbn1cbkBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgbWF0LXRyZWU6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0OiAwcHggIWltcG9ydGFudDtcbiAgfVxufVxuQG1lZGlhIChwb2ludGVyOiBjb2Fyc2UpIHtcbiAgbWF0LXRyZWU6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogMHB4ICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0OiAwcHggIWltcG9ydGFudDtcbiAgfVxuICBtYXQtdHJlZTo6LXdlYmtpdC1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgfVxufVxubWF0LXRyZWU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgYmFja2dyb3VuZDogI2NmY2ZjZjtcbn1cbm1hdC10cmVlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gIGJhY2tncm91bmQ6ICM5ZTllOWU7XG59XG5tYXQtdHJlZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjNzA3MDcwO1xufVxuXG4ub3A1MDAge1xuICBvcGFjaXR5OiAwLjU7XG59XG5cbi5kcmFnIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG4udHJhbnNpdGlvbkQge1xuICB0cmFuc2l0aW9uOiBhbGwgMXM7XG59IiwiJGZvbnQtZmFtaWx5LXNhbnM6ICdTZWdvZSBVSScsIFJvYm90bywgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsXG4gICdOb3RvIFNhbnMnLCBzYW5zLXNlcmlmLCAnQXBwbGUgQ29sb3IgRW1vamknLCAnU2Vnb2UgVUkgRW1vamknLCAnU2Vnb2UgVUkgU3ltYm9sJyxcbiAgJ05vdG8gQ29sb3IgRW1vamknO1xuJGZvbnQtZmFtaWx5LXNlcmlmOiBHZW9yZ2lhLCBDYW1icmlhLCAnVGltZXMgTmV3IFJvbWFuJywgVGltZXMsIHNlcmlmO1xuJGZvbnQtZmFtaWx5LW1vbm86IE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCAnTGliZXJhdGlvbiBNb25vJywgJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlO1xuJGZvbnQtZmFtaWx5LW9wZW4tc2FuczogJ09wZW4gU2Fucyc7XG4kZm9udC1mYW1pbHktb3Blbi1wb3BwaW5zOiAnUm9ib3RvJztcblxuXG4kc2l6ZS14czogOHB4O1xuJHNpemUtczogMTJweDtcbiRzaXplLW06IDE2cHg7XG4kc2l6ZS1sOiAyNHB4O1xuJHNpemUteGw6IDMycHg7XG4kc2l6ZS1sZzogMjhweDtcbiRzaXplLXh4bDogNDBweDtcblxuJG1hdC10b29sYmFyLXhzOiA1MnB4O1xuJG1hdC10b29sYmFyLWd0LXhzOiA1NnB4O1xuIl19 */\"","import { FlatTreeControl } from '@angular/cdk/tree'\nimport { Component, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core'\nimport { MatDialog, MatSnackBar } from '@angular/material'\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree'\nimport { NOTIFICATION_TIME } from '@ws/author/src/lib/constants/constant'\nimport { Notify } from '@ws/author/src/lib/constants/notificationMessage'\nimport { ConfirmDialogComponent } from '@ws/author/src/lib/modules/shared/components/confirm-dialog/confirm-dialog.component'\nimport { NotificationComponent } from '@ws/author/src/lib/modules/shared/components/notification/notification.component'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { LoaderService } from '@ws/author/src/lib/services/loader.service'\nimport { EditorContentService } from '../../../../../services/editor-content.service'\nimport { IContentNode } from '../../interface/icontent-tree'\nimport { AuthPickerComponent } from './../../../../../shared/components/auth-picker/auth-picker.component'\nimport { IContentTreeNode } from './../../interface/icontent-tree'\nimport { CollectionStoreService } from './../../services/store.service'\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout'\nimport { map } from 'rxjs/operators'\n@Component({\n  selector: 'ws-auth-table-of-contents',\n  templateUrl: './auth-table-of-contents.component.html',\n  styleUrls: ['./auth-table-of-contents.component.scss'],\n})\nexport class AuthTableOfContentsComponent implements OnInit, OnDestroy {\n  @Output() action = new EventEmitter<{ type: string; identifier: string }>()\n  @Output() closeEvent = new EventEmitter<boolean>()\n  treeControl!: FlatTreeControl<IContentTreeNode>\n  treeFlattener!: MatTreeFlattener<IContentNode, IContentTreeNode>\n  dataSource!: MatTreeFlatDataSource<IContentNode, IContentTreeNode>\n  isDragging = false\n  dropContainer: IContentTreeNode | null = null\n  dragContainer: IContentTreeNode | null = null\n  expandDelay = 500\n  isDropDisabled = false\n  expandTimeout: any\n  draggingPosition: 'above' | 'below' | 'center' | null = null\n  selectedNode: number | null = null\n  expandedNodes = new Set<number>()\n  parentNodeId!: number\n  drawer = true\n  menubtn = true\n  parentHierarchy: number[] = []\n  backUpInformation = {\n    isDragging: false,\n    dropContainer: null as any,\n    dragContainer: null as any,\n    draggingPosition: null as any,\n  }\n  invalidIds: number[] = []\n  mediumScreen = false\n  mediumSizeBreakpoint$ = this.breakpointObserver\n    .observe([Breakpoints.XSmall, Breakpoints.Small])\n    .pipe(map((res: BreakpointState) => res.matches))\n  leftarrow = true\n  constructor(\n    private dialog: MatDialog,\n    private snackBar: MatSnackBar,\n    private store: CollectionStoreService,\n    private editorStore: EditorContentService,\n    private loaderService: LoaderService,\n    private authInitService: AuthInitService,\n    private breakpointObserver: BreakpointObserver,\n  ) {}\n\n  private _transformer = (node: IContentNode, level: number): IContentTreeNode => {\n    return {\n      level,\n      id: node.id,\n      identifier: node.identifier,\n      category: node.category,\n      expandable: !!node.children && node.children.length > 0,\n      children: node.children ? node.children.map(v => v.id) : [],\n      editable: node.editable,\n      childLoaded: node.childLoaded,\n      parentId: node.parentId,\n    }\n  }\n\n  ngOnInit() {\n    this.parentNodeId = this.store.currentParentNode\n    this.treeControl = new FlatTreeControl<IContentTreeNode>(\n      node => node.level,\n      node => node.expandable,\n    )\n\n    this.treeFlattener = new MatTreeFlattener(\n      this._transformer,\n      node => node.level,\n      node => node.expandable,\n      node => node.children,\n    )\n\n    this.store.onInvalidNodeChange.subscribe(v => {\n      this.invalidIds = v\n      this.expandNodesById(v)\n    })\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener)\n\n    this.store.treeStructureChange.subscribe(data => {\n      this.dataSource.data = [data as IContentNode]\n      if (this.parentNodeId === this.store.currentParentNode) {\n        this.expandNodesById()\n        if (this.selectedNode && !this.store.flatNodeMap.get(this.selectedNode)) {\n          this.parentHierarchy.forEach(v => {\n            if (this.store.flatNodeMap.get(v)) {\n              const identifier = this.store.uniqueIdMap.get(v) as string\n              this.selectedNode = v\n              this.editorStore.currentContent = identifier\n              this.store.currentSelectedNode = v\n              this.editorStore.changeActiveCont.next(identifier)\n              return\n            }\n          })\n        }\n      } else {\n        this.parentNodeId = this.store.currentParentNode\n      }\n    })\n    this.store.selectedNodeChange.subscribe(data => {\n      if (data) {\n        this.selectedNode = data\n      }\n    })\n    this.mediumSizeBreakpoint$.subscribe(isLtMedium => {\n      this.mediumScreen = isLtMedium\n      if (isLtMedium) {\n        this.drawer = true\n        this.leftarrow = false\n        this.menubtn = false\n      } else {\n        this.leftarrow = true\n        this.menubtn = true\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    this.loaderService.changeLoad.next(false)\n  }\n\n  onNodeSelect(node: IContentTreeNode) {\n    if (node.id !== this.selectedNode) {\n      this.selectedNode = node.id\n      this.editorStore.currentContent = node.identifier\n      this.store.currentSelectedNode = node.id\n      this.editorStore.changeActiveCont.next(node.identifier)\n    }\n  }\n\n  closeSidenav() {\n    this.closeEvent.emit(true)\n  }\n\n  dragStart(node: IContentTreeNode) {\n    this.isDragging = true\n    this.dragContainer = node\n  }\n\n  dragEnd() {\n    this.backUpInformation = {\n      isDragging: this.isDragging,\n      dropContainer: this.dropContainer,\n      dragContainer: this.dragContainer,\n      draggingPosition: this.draggingPosition,\n    }\n    this.isDragging = false\n    this.dropContainer = null\n    this.dragContainer = null\n    this.draggingPosition = null\n  }\n\n  dragHover(node: IContentTreeNode, event: MouseEvent) {\n    event.preventDefault()\n    if (this.isDragging) {\n      this.dropContainer = node\n      clearTimeout(this.expandTimeout)\n      this.expandTimeout = setTimeout(() => {\n        this.treeControl.expand(node)\n        // tslint:disable-next-line: align\n      }, this.expandDelay)\n      const percentageY = event.offsetY / (event.target as any).clientHeight\n      if (percentageY >= 0 && percentageY < 0.2) {\n        this.draggingPosition = 'above'\n      } else if (percentageY > 0.8) {\n        this.draggingPosition = 'below'\n      } else if (percentageY >= 0.2 && percentageY <= 0.8) {\n        this.draggingPosition = 'center'\n      }\n      const parentHierarchy: number[] = []\n      let currNode: IContentTreeNode | null = node\n      while (currNode) {\n        if (currNode && currNode.parentId) {\n          parentHierarchy.push(currNode.parentId)\n        }\n        currNode = this.getParentNode(currNode)\n      }\n      if (parentHierarchy.includes((this.dragContainer as IContentTreeNode).id)) {\n        this.isDropDisabled = true\n      } else if (this.dragContainer === this.dropContainer) {\n        this.isDropDisabled = true\n      } else if (['above', 'below'].includes(this.draggingPosition as string)) {\n        const parentNode = this.getParentNode(node)\n        this.isDropDisabled = !parentNode\n          ? true\n          : !this.store.allowDrop(\n              this.dragContainer as IContentTreeNode,\n              parentNode as IContentTreeNode,\n            )\n      } else {\n        this.isDropDisabled = !this.store.allowDrop(\n          this.dragContainer as IContentTreeNode,\n          this.dropContainer as IContentTreeNode,\n        )\n      }\n    }\n  }\n\n  dragHoverEnd($event: Event) {\n    $event.preventDefault()\n    if (this.isDragging) {\n      clearTimeout(this.expandTimeout)\n      this.backUpInformation.dropContainer = this.dropContainer as any\n      this.dropContainer = null\n    }\n  }\n\n  drop() {\n    this.isDragging = false\n    if (!this.isDropDisabled) {\n      this.preserveExpandedNodes()\n      const isAdjacentDrop = ['above', 'below'].includes(\n        this.backUpInformation.draggingPosition as string,\n      )\n      const dropContainer = isAdjacentDrop\n        ? this.getParentNode(this.backUpInformation.dropContainer as IContentTreeNode)\n        : this.backUpInformation.dropContainer\n\n      if (dropContainer.id !== this.backUpInformation.dragContainer.id) {\n        this.store.dragAndDrop(\n          this.backUpInformation.dragContainer as IContentTreeNode,\n          dropContainer as IContentTreeNode,\n          isAdjacentDrop ? this.backUpInformation.dropContainer.id : undefined,\n          this.backUpInformation.draggingPosition,\n        )\n      }\n    }\n  }\n\n  preserveExpandedNodes() {\n    this.expandedNodes = new Set<number>()\n    this.treeControl.dataNodes.forEach(v => {\n      if (this.treeControl.isExpandable(v) && this.treeControl.isExpanded(v)) {\n        this.expandedNodes.add(v.id)\n      }\n    })\n  }\n\n  expandNodesById(ids?: number[]) {\n    const idSet = ids ? new Set(ids) : this.expandedNodes\n    this.treeControl.dataNodes.forEach(node => {\n      if (idSet.has(node.id)) {\n        this.treeControl.expand(node)\n        let parent = this.getParentNode(node)\n        while (parent) {\n          this.treeControl.expand(parent)\n          parent = this.getParentNode(parent)\n        }\n      }\n    })\n  }\n  /*\n   Get the parent node of a node\n    */\n  getParentNode(node: IContentTreeNode): IContentTreeNode | null {\n    const currentLevel = node.level\n\n    if (currentLevel < 1) {\n      return null\n    }\n\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1\n\n    for (let i = startIndex; i >= 0; i = i - 1) {\n      const currentNode = this.treeControl.dataNodes[i]\n\n      if (currentNode.level < currentLevel) {\n        return currentNode\n      }\n    }\n    return null\n  }\n\n  delete(node: IContentTreeNode) {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '500px',\n      height: '175px',\n      data: 'deleteTreeNode',\n    })\n    this.preserveExpandedNodes()\n    dialogRef.afterClosed().subscribe(confirm => {\n      if (confirm) {\n        this.parentHierarchy = []\n        let currNode: IContentTreeNode | null = node\n        while (currNode) {\n          if (currNode && currNode.parentId) {\n            this.parentHierarchy.push(currNode.parentId)\n          }\n          currNode = this.getParentNode(currNode)\n        }\n        this.store.deleteNode(node.id)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SUCCESS,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    })\n  }\n\n  async addChildOrSibling(node: IContentTreeNode, asSibling = false) {\n    const children = (node.children || []).map(v => this.store.uniqueIdMap.get(v))\n    const dialogRef = this.dialog.open(AuthPickerComponent, {\n      width: '90vw',\n      height: '90vh',\n      data: {\n        filter: this.authInitService.collectionConfig.childrenConfig[node.category].searchFilter,\n        selectedIds: children,\n      },\n    })\n    this.preserveExpandedNodes()\n    dialogRef.afterClosed().subscribe(async (contents: string[]) => {\n      if (contents && contents.length) {\n        const parentNode = (asSibling ? this.getParentNode(node) : node) as IContentTreeNode\n        this.expandedNodes.add(parentNode.id)\n        this.loaderService.changeLoad.next(true)\n        const isDone = await this.store.addChildOrSibling(\n          contents,\n          parentNode,\n          asSibling ? node.id : undefined,\n          'below',\n        )\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: isDone ? Notify.SUCCESS : Notify.FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    })\n  }\n\n  async createNewChildOrSibling(type: string, node: IContentTreeNode, asSibling = false) {\n    const parentNode = (asSibling ? this.getParentNode(node) : node) as IContentTreeNode\n    this.loaderService.changeLoad.next(true)\n    this.preserveExpandedNodes()\n    this.expandedNodes.add(parentNode.id)\n    const isDone = await this.store.createChildOrSibling(\n      type,\n      parentNode,\n      asSibling ? node.id : undefined,\n      'below',\n    )\n    this.snackBar.openFromComponent(NotificationComponent, {\n      data: {\n        type: isDone ? Notify.SUCCESS : Notify.FAIL,\n      },\n      duration: NOTIFICATION_TIME * 1000,\n    })\n    this.loaderService.changeLoad.next(false)\n  }\n\n  takeAction(action: string, node: IContentTreeNode, type?: string) {\n    switch (action) {\n      case 'editMeta':\n      case 'editContent':\n      case 'preview':\n        this.onNodeSelect(node)\n        this.action.emit({ type: action, identifier: node.identifier })\n        break\n      case 'delete':\n        this.delete(node)\n        break\n\n      case 'addChild':\n        this.addChildOrSibling(node)\n        break\n\n      case 'addSibling':\n        this.addChildOrSibling(node, true)\n        break\n\n      case 'createChild':\n        this.createNewChildOrSibling(type as string, node)\n        break\n\n      case 'createSibling':\n        this.createNewChildOrSibling(type as string, node, true)\n        break\n\n      default:\n        break\n    }\n  }\n}\n","export default \".node-name {\\n  position: relative;\\n  top: 2px;\\n  max-width: 185px;\\n  min-width: 145px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 1;\\n  /* number of lines to show */\\n  -webkit-box-orient: vertical;\\n}\\n\\n.node-icon {\\n  padding-left: 5px;\\n  padding-right: 10px;\\n  top: 1px;\\n  position: relative;\\n}\\n\\ndiv {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLXRhYmxlLXRyZWUtbGFiZWwvYXV0aC10YWJsZS10cmVlLWxhYmVsLmNvbXBvbmVudC5zY3NzIiwicHJvamVjdC93cy9hdXRob3Ivc3JjL2xpYi9yb3V0aW5nL21vZHVsZXMvZWRpdG9yL3JvdXRpbmcvbW9kdWxlcy9jb2xsZWN0aW9uL2NvbXBvbmVudHMvYXV0aC10YWJsZS10cmVlLWxhYmVsL2F1dGgtdGFibGUtdHJlZS1sYWJlbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUF1Qiw0QkFBQTtFQUN2Qiw0QkFBQTtBQ0VGOztBRENBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtBQ0VGOztBRENBO0VBQ0UsYUFBQTtBQ0VGIiwiZmlsZSI6InByb2plY3Qvd3MvYXV0aG9yL3NyYy9saWIvcm91dGluZy9tb2R1bGVzL2VkaXRvci9yb3V0aW5nL21vZHVsZXMvY29sbGVjdGlvbi9jb21wb25lbnRzL2F1dGgtdGFibGUtdHJlZS1sYWJlbC9hdXRoLXRhYmxlLXRyZWUtbGFiZWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubm9kZS1uYW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgbWF4LXdpZHRoOiAxODVweDtcbiAgbWluLXdpZHRoOiAxNDVweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAtd2Via2l0LWxpbmUtY2xhbXA6IDE7IC8qIG51bWJlciBvZiBsaW5lcyB0byBzaG93ICovXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG59XG5cbi5ub2RlLWljb24ge1xuICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgdG9wOiAxcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuZGl2IHtcbiAgZGlzcGxheTogZmxleDtcbn1cbiIsIi5ub2RlLW5hbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMnB4O1xuICBtYXgtd2lkdGg6IDE4NXB4O1xuICBtaW4td2lkdGg6IDE0NXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gIC13ZWJraXQtbGluZS1jbGFtcDogMTtcbiAgLyogbnVtYmVyIG9mIGxpbmVzIHRvIHNob3cgKi9cbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbn1cblxuLm5vZGUtaWNvbiB7XG4gIHBhZGRpbmctbGVmdDogNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICB0b3A6IDFweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG5kaXYge1xuICBkaXNwbGF5OiBmbGV4O1xufSJdfQ== */\"","import { Component, Input, OnInit } from '@angular/core'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { CollectionResolverService } from './../../services/resolver.service'\n\n@Component({\n  selector: 'ws-auth-table-tree-label',\n  templateUrl: './auth-table-tree-label.component.html',\n  styleUrls: ['./auth-table-tree-label.component.scss'],\n})\nexport class AuthTableTreeLabelComponent implements OnInit {\n  @Input() identifier!: string\n  @Input() id!: number\n  @Input() isDragging = false\n  @Input() isInvalid = false\n  name = ''\n  @Input() icon = ''\n  constructor(\n    private storeService: EditorContentService,\n    private resolverService: CollectionResolverService,\n  ) { }\n\n  ngOnInit() {\n    this.storeService.onContentChange.subscribe(v => {\n      if (v === this.identifier) {\n        this.getUpdatedContent()\n      }\n    })\n    this.getUpdatedContent()\n  }\n\n  getUpdatedContent() {\n    const updatedMeta = this.storeService.getUpdatedMeta(this.identifier)\n    this.name = updatedMeta.name\n    this.icon = this.resolverService.getIcon(updatedMeta)\n  }\n}\n","export default \"#cdk-drop-list-0 > mat-tree-node:nth-child(1) {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9hdXRoLXRvYy9hdXRoLXRvYy5jb21wb25lbnQuc2NzcyIsInByb2plY3Qvd3MvYXV0aG9yL3NyYy9saWIvcm91dGluZy9tb2R1bGVzL2VkaXRvci9yb3V0aW5nL21vZHVsZXMvY29sbGVjdGlvbi9jb21wb25lbnRzL2F1dGgtdG9jL2F1dGgtdG9jLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtBQ0NKIiwiZmlsZSI6InByb2plY3Qvd3MvYXV0aG9yL3NyYy9saWIvcm91dGluZy9tb2R1bGVzL2VkaXRvci9yb3V0aW5nL21vZHVsZXMvY29sbGVjdGlvbi9jb21wb25lbnRzL2F1dGgtdG9jL2F1dGgtdG9jLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2Nkay1kcm9wLWxpc3QtMCA+IG1hdC10cmVlLW5vZGU6bnRoLWNoaWxkKDEpIHtcbiAgICBkaXNwbGF5OiBub25lXG59XG4vLyAjY2RrLWRyb3AtbGlzdC0wID4gbWF0LXRyZWUtbm9kZTpudGgtY2hpbGQoMikge1xuLy8gICAgIGJhY2tncm91bmQ6IHJnYmEoMzIsIDE1MCwgMjA1LCAwLjMpO1xuLy8gfVxuXG4iLCIjY2RrLWRyb3AtbGlzdC0wID4gbWF0LXRyZWUtbm9kZTpudGgtY2hpbGQoMSkge1xuICBkaXNwbGF5OiBub25lO1xufSJdfQ== */\"","import { FlatTreeControl } from '@angular/cdk/tree'\nimport { Component, EventEmitter, OnDestroy, OnInit, Output, Input, AfterViewInit } from '@angular/core'\nimport { MatDialog, MatSnackBar } from '@angular/material'\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree'\nimport { NOTIFICATION_TIME } from '@ws/author/src/lib/constants/constant'\nimport { Notify } from '@ws/author/src/lib/constants/notificationMessage'\nimport { ConfirmDialogComponent } from '@ws/author/src/lib/modules/shared/components/confirm-dialog/confirm-dialog.component'\nimport { NotificationComponent } from '@ws/author/src/lib/modules/shared/components/notification/notification.component'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { LoaderService } from '@ws/author/src/lib/services/loader.service'\nimport { EditorContentService } from '../../../../../services/editor-content.service'\nimport { IContentNode } from '../../interface/icontent-tree'\nimport { AuthPickerComponent } from './../../../../../shared/components/auth-picker/auth-picker.component'\nimport { IContentTreeNode } from './../../interface/icontent-tree'\nimport { CollectionStoreService } from './../../services/store.service'\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout'\nimport { map } from 'rxjs/operators'\n\ndeclare var $: any\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'ws-author-auth-toc',\n  templateUrl: './auth-toc.component.html',\n  styleUrls: ['./auth-toc.component.scss'],\n})\nexport class AuthTocComponent  implements OnInit, AfterViewInit, OnDestroy {\n  @Input() createdFromCourse: any\n  @Output() action = new EventEmitter<{ type: string; identifier: string; nodeClicked?: boolean }>()\n  @Output() closeEvent = new EventEmitter<boolean>()\n  @Output() node = new EventEmitter<any>()\n  @Output() data = new EventEmitter<string>()\n  treeControl!: FlatTreeControl<IContentTreeNode>\n  treeFlattener!: MatTreeFlattener<IContentNode, IContentTreeNode>\n  dataSource!: MatTreeFlatDataSource<IContentNode, IContentTreeNode>\n  isDragging = false\n  dropContainer: IContentTreeNode | null = null\n  dragContainer: IContentTreeNode | null = null\n  expandDelay = 500\n  isDropDisabled = false\n  expandTimeout: any\n  draggingPosition: 'above' | 'below' | 'center' | null = null\n  selectedNode: number | null = null\n  expandedNodes = new Set<number>()\n  parentNodeId!: number\n  drawer = true\n  menubtn = true\n  parentHierarchy: number[] = []\n  backUpInformation = {\n    isDragging: false,\n    dropContainer: null as any,\n    dragContainer: null as any,\n    draggingPosition: null as any,\n  }\n  invalidIds: number[] = []\n  mediumScreen = false\n  mediumSizeBreakpoint$ = this.breakpointObserver\n    .observe([Breakpoints.XSmall, Breakpoints.Small])\n    .pipe(map((res: BreakpointState) => res.matches))\n  leftarrow = true\n  constructor(\n    private dialog: MatDialog,\n    private snackBar: MatSnackBar,\n    private store: CollectionStoreService,\n    private editorStore: EditorContentService,\n    private loaderService: LoaderService,\n    private authInitService: AuthInitService,\n    private breakpointObserver: BreakpointObserver,\n  ) {}\n\n  private _transformer = (node: IContentNode, level: number): IContentTreeNode => {\n    return {\n      level,\n      id: node.id,\n      identifier: node.identifier,\n      category: node.category,\n      expandable: !!node.children && node.children.length > 0,\n      children: node.children ? node.children.map(v => v.id) : [],\n      editable: node.editable,\n      childLoaded: node.childLoaded,\n      parentId: node.parentId,\n    }\n  }\n\n  ngOnInit() {\n    this.parentNodeId = this.store.currentParentNode\n    this.treeControl = new FlatTreeControl<IContentTreeNode>(\n      node => node.level,\n      node => node.expandable,\n    )\n\n    this.treeFlattener = new MatTreeFlattener(\n      this._transformer,\n      node => node.level,\n      node => node.expandable,\n      node => node.children,\n    )\n\n    this.store.onInvalidNodeChange.subscribe(v => {\n      this.invalidIds = v\n      this.expandNodesById(v)\n    })\n    this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener)\n\n    this.store.treeStructureChange.subscribe(data => {\n      this.dataSource.data = [data as IContentNode]\n      if (this.parentNodeId === this.store.currentParentNode) {\n        this.expandNodesById([this.parentNodeId])\n        if (this.selectedNode && !this.store.flatNodeMap.get(this.selectedNode)) {\n          this.parentHierarchy.forEach(v => {\n            if (this.store.flatNodeMap.get(v)) {\n              const identifier = this.store.uniqueIdMap.get(v) as string\n              this.selectedNode = v\n              this.editorStore.currentContent = identifier\n              this.store.currentSelectedNode = v\n              this.editorStore.changeActiveCont.next(identifier)\n              return\n            }\n          })\n        }\n      } else {\n        this.parentNodeId = this.store.currentParentNode\n      }\n    })\n    this.store.selectedNodeChange.subscribe(data => {\n      if (data) {\n        this.selectedNode = data\n      }\n    })\n    this.mediumSizeBreakpoint$.subscribe(isLtMedium => {\n      this.mediumScreen = isLtMedium\n      if (isLtMedium) {\n        this.drawer = true\n        this.leftarrow = false\n        this.menubtn = false\n      } else {\n        this.leftarrow = true\n        this.menubtn = true\n      }\n    })\n  }\n\n  ngAfterViewInit() {\n   if ($('#cdk-drop-list-0 > mat-tree-node').hasClass('selected') === false) {\n      $('#cdk-drop-list-0 > mat-tree-node:nth-child(2)').trigger('click')\n      $('#cdk-drop-list-0 > mat-tree-node:nth-child(2)').find('button.mat-icon-button').trigger('click')\n   }\n  }\n  ngOnDestroy() {\n    this.loaderService.changeLoad.next(false)\n  }\n\n  onNodeSelect(node: IContentTreeNode) {\n    if ($('#cdk-drop-list-0 > mat-tree-node').hasClass('selected')) {\n      $('#cdk-drop-list-0 > mat-tree-node:nth-child(2)').removeClass('selected')\n   }\n\n    if (node.id !== this.selectedNode) {\n      this.action.emit({ type: 'editContent', identifier: node.identifier, nodeClicked: true })\n      this.selectedNode = node.id\n      this.editorStore.currentContent = node.identifier\n      this.store.currentSelectedNode = node.id\n      this.editorStore.changeActiveCont.next(node.identifier)\n\n     }\n  }\n\n  closeSidenav() {\n    this.closeEvent.emit(true)\n  }\n\n  dragStart(node: IContentTreeNode) {\n    this.isDragging = true\n    this.dragContainer = node\n  }\n\n  dragEnd() {\n    this.backUpInformation = {\n      isDragging: this.isDragging,\n      dropContainer: this.dropContainer,\n      dragContainer: this.dragContainer,\n      draggingPosition: this.draggingPosition,\n    }\n    this.isDragging = false\n    this.dropContainer = null\n    this.dragContainer = null\n    this.draggingPosition = null\n  }\n\n  dragHover(node: IContentTreeNode, event: MouseEvent) {\n    event.preventDefault()\n    if (this.isDragging) {\n      this.dropContainer = node\n      clearTimeout(this.expandTimeout)\n      this.expandTimeout = setTimeout(() => {\n        this.treeControl.expand(node)\n        // tslint:disable-next-line: align\n      }, this.expandDelay)\n      const percentageY = event.offsetY / (event.target as any).clientHeight\n      if (percentageY >= 0 && percentageY < 0.2) {\n        this.draggingPosition = 'above'\n      } else if (percentageY > 0.8) {\n        this.draggingPosition = 'below'\n      } else if (percentageY >= 0.2 && percentageY <= 0.8) {\n        this.draggingPosition = 'center'\n      }\n      const parentHierarchy: number[] = []\n      let currNode: IContentTreeNode | null = node\n      while (currNode) {\n        if (currNode && currNode.parentId) {\n          parentHierarchy.push(currNode.parentId)\n        }\n        currNode = this.getParentNode(currNode)\n      }\n      if (parentHierarchy.includes((this.dragContainer as IContentTreeNode).id)) {\n        this.isDropDisabled = true\n      } else if (this.dragContainer === this.dropContainer) {\n        this.isDropDisabled = true\n      } else if (['above', 'below'].includes(this.draggingPosition as string)) {\n        const parentNode = this.getParentNode(node)\n        this.isDropDisabled = !parentNode\n          ? true\n          : !this.store.allowDrop(\n              this.dragContainer as IContentTreeNode,\n              parentNode as IContentTreeNode,\n            )\n      } else {\n        this.isDropDisabled = !this.store.allowDrop(\n          this.dragContainer as IContentTreeNode,\n          this.dropContainer as IContentTreeNode,\n        )\n      }\n    }\n  }\n\n  dragHoverEnd($event: Event) {\n    $event.preventDefault()\n    if (this.isDragging) {\n      clearTimeout(this.expandTimeout)\n      this.backUpInformation.dropContainer = this.dropContainer as any\n      this.dropContainer = null\n    }\n  }\n\n  drop() {\n    this.isDragging = false\n    if (!this.isDropDisabled) {\n      this.preserveExpandedNodes()\n      const isAdjacentDrop = ['above', 'below'].includes(\n        this.backUpInformation.draggingPosition as string,\n      )\n      const dropContainer = isAdjacentDrop\n        ? this.getParentNode(this.backUpInformation.dropContainer as IContentTreeNode)\n        : this.backUpInformation.dropContainer\n\n      if (dropContainer.id !== this.backUpInformation.dragContainer.id) {\n        this.store.dragAndDrop(\n          this.backUpInformation.dragContainer as IContentTreeNode,\n          dropContainer as IContentTreeNode,\n          isAdjacentDrop ? this.backUpInformation.dropContainer.id : undefined,\n          this.backUpInformation.draggingPosition,\n        )\n      }\n    }\n  }\n\n  preserveExpandedNodes() {\n    this.expandedNodes = new Set<number>()\n    this.treeControl.dataNodes.forEach(v => {\n      if (this.treeControl.isExpandable(v) && this.treeControl.isExpanded(v)) {\n        this.expandedNodes.add(v.id)\n      }\n    })\n  }\n\n  expandNodesById(ids?: number[]) {\n    const idSet = ids ? new Set(ids) : this.expandedNodes\n    this.treeControl.dataNodes.forEach(node => {\n      if (idSet.has(node.id)) {\n        this.treeControl.expand(node)\n        let parent = this.getParentNode(node)\n        while (parent) {\n          this.treeControl.expand(parent)\n          parent = this.getParentNode(parent)\n        }\n      }\n    })\n  }\n  /*\n   Get the parent node of a node\n    */\n  getParentNode(node: IContentTreeNode): IContentTreeNode | null {\n    const currentLevel = node.level\n\n    if (currentLevel < 1) {\n      return null\n    }\n\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1\n\n    for (let i = startIndex; i >= 0; i = i - 1) {\n      const currentNode = this.treeControl.dataNodes[i]\n\n      if (currentNode.level < currentLevel) {\n        return currentNode\n      }\n    }\n    return null\n  }\n\n  delete(node: IContentTreeNode) {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '500px',\n      height: '175px',\n      data: 'deleteTreeNode',\n    })\n    this.preserveExpandedNodes()\n    dialogRef.afterClosed().subscribe(confirm => {\n      if (confirm) {\n        this.parentHierarchy = []\n        let currNode: IContentTreeNode | null = node\n        while (currNode) {\n          if (currNode && currNode.parentId) {\n            this.parentHierarchy.push(currNode.parentId)\n          }\n          currNode = this.getParentNode(currNode)\n        }\n        this.store.deleteNode(node.id)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SUCCESS,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    })\n  }\n\n  async addChildOrSibling(node: IContentTreeNode, asSibling = false) {\n    const children = (node.children || []).map(v => this.store.uniqueIdMap.get(v))\n    const dialogRef = this.dialog.open(AuthPickerComponent, {\n      width: '90vw',\n      height: '90vh',\n      data: {\n        filter: this.authInitService.collectionConfig.childrenConfig[node.category].searchFilter,\n        selectedIds: children,\n      },\n    })\n    this.preserveExpandedNodes()\n    dialogRef.afterClosed().subscribe(async (contents: string[]) => {\n      if (contents && contents.length) {\n        const parentNode = (asSibling ? this.getParentNode(node) : node) as IContentTreeNode\n        this.expandedNodes.add(parentNode.id)\n        this.loaderService.changeLoad.next(true)\n        const isDone = await this.store.addChildOrSibling(\n          contents,\n          parentNode,\n          asSibling ? node.id : undefined,\n          'below',\n        )\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: isDone ? Notify.SUCCESS : Notify.FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    })\n  }\n\n  async createNewChildOrSibling(type: string, node: IContentTreeNode, asSibling = false) {\n    const parentNode = (asSibling ? this.getParentNode(node) : node) as IContentTreeNode\n    this.loaderService.changeLoad.next(true)\n    this.preserveExpandedNodes()\n    this.expandedNodes.add(parentNode.id)\n\n    const isDone = await this.store.createChildOrSibling(\n      type,\n      parentNode,\n      asSibling ? node.id : undefined,\n      'below',\n      {},\n      type === 'web' ? 'link' : ''\n    )\n\n    this.snackBar.openFromComponent(NotificationComponent, {\n      data: {\n        type: isDone ? Notify.SUCCESS : Notify.FAIL,\n      },\n      duration: NOTIFICATION_TIME * 1000,\n    })\n    this.loaderService.changeLoad.next(false)\n  }\n\n  takeAction(action: string, node: IContentTreeNode, type?: string) {\n\n    switch (action) {\n      case 'editMeta':\n      case 'editContent':\n      case 'preview':\n        this.onNodeSelect(node)\n        this.action.emit({ type: action, identifier: node.identifier })\n        break\n      case 'delete':\n        this.delete(node)\n        break\n\n      case 'addChild':\n        this.addChildOrSibling(node)\n        break\n\n      case 'addSibling':\n        this.addChildOrSibling(node, true)\n        break\n\n      case 'createChild':\n        this.createNewChildOrSibling(type as string, node)\n        break\n\n      case 'createSibling':\n        this.createNewChildOrSibling(type as string, node, true)\n        break\n\n      default:\n        break\n    }\n  }\n  addChapter() {\n    // tslint:disable-next-line:max-line-length\n    // this.allowedChild = [{\"children\":[],\"id\":\"upload\",\"name\":\"Upload Content\",\"icon\":\"cloud_upload\"},{\"children\":[],\"id\":\"assessment\",\"name\":\"Assessment\",\"icon\":\"check_circle\"},{\"children\":[],\"id\":\"web\",\"name\":\"Attach a Link\",\"icon\":\"link\"}]\n\n    // this.action.emit({ type: 'showAddChapter', identifier: '' })\n  }\n}\n","export default \".mat-sidenav-container {\\n  min-height: 650px;\\n  overflow: unset;\\n}\\n\\n.mat-sidenav {\\n  overflow: unset;\\n}\\n\\n.mat-drawer-content {\\n  padding-left: 3px;\\n}\\n\\n.sticky {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 50px;\\n}\\n\\n.close-preview {\\n  position: fixed;\\n  top: 15px;\\n  left: 15px;\\n  z-index: 1;\\n  font-size: 30px;\\n  cursor: pointer;\\n  z-index: 1001;\\n}\\n\\n.hidden {\\n  display: none;\\n}\\n\\n.transitionD {\\n  transition: all 0.5s;\\n}\\n\\n.ui {\\n  border: 1px solid #1a1919;\\n  border-top-left-radius: 0px;\\n  border-left-color: white;\\n  border-bottom-left-radius: 0px;\\n  border-top-right-radius: 50%;\\n  border-bottom-right-radius: 50%;\\n  box-shadow: 0.1px 2px 8px grey;\\n  width: 42px;\\n}\\n\\n.toHide {\\n  visibility: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb2xsZWN0aW9uL2NvbGxlY3Rpb24uY29tcG9uZW50LnNjc3MiLCJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb2xsZWN0aW9uL2NvbGxlY3Rpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDRSxpQkFBQTtFQUNBLGVBQUE7QUNGRjs7QURLQTtFQUNFLGVBQUE7QUNGRjs7QURLQTtFQUNFLGlCQUFBO0FDRkY7O0FES0E7RUFDRSx3QkFBQTtFQUFBLGdCQUFBO0VBQ0EsU0FBQTtBQ0ZGOztBREtBO0VBQ0UsZUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtBQ0ZGOztBREtBO0VBQ0UsYUFBQTtBQ0ZGOztBRElBO0VBQ0Usb0JBQUE7QUNERjs7QURHQTtFQUNFLHlCQUFBO0VBQ0EsMkJBQUE7RUFDQSx3QkFBQTtFQUNBLDhCQUFBO0VBQ0EsNEJBQUE7RUFDQSwrQkFBQTtFQUNBLDhCQUFBO0VBQ0EsV0FBQTtBQ0FGOztBREdBO0VBQ0Usa0JBQUE7QUNBRiIsImZpbGUiOiJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb2xsZWN0aW9uL2NvbGxlY3Rpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICdzdHlsZXMvX3dzLXZhcnMuc2Nzcyc7XG5AaW1wb3J0ICdzdHlsZXMvX3dzLW1peGlucy5zY3NzJztcblxuLm1hdC1zaWRlbmF2LWNvbnRhaW5lciB7XG4gIG1pbi1oZWlnaHQ6IDY1MHB4O1xuICBvdmVyZmxvdzogdW5zZXQ7XG59XG5cbi5tYXQtc2lkZW5hdiB7XG4gIG92ZXJmbG93OiB1bnNldDtcbn1cblxuLm1hdC1kcmF3ZXItY29udGVudCB7XG4gIHBhZGRpbmctbGVmdDogM3B4O1xufVxuXG4uc3RpY2t5IHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgdG9wOiA1MHB4O1xufVxuXG4uY2xvc2UtcHJldmlldyB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAxNXB4O1xuICBsZWZ0OiAxNXB4O1xuICB6LWluZGV4OiAxO1xuICBmb250LXNpemU6IDMwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgei1pbmRleDogMTAwMTtcbn1cblxuLmhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4udHJhbnNpdGlvbkQge1xuICB0cmFuc2l0aW9uOiBhbGwgMC41cztcbn1cbi51aSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyNiwgMjUsIDI1KTtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMHB4O1xuICBib3JkZXItbGVmdC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDBweDtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDUwJTtcbiAgYm94LXNoYWRvdzogMC4xcHggMnB4IDhweCBncmV5O1xuICB3aWR0aDogNDJweDtcbn1cblxuLnRvSGlkZSB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbiIsIi5tYXQtc2lkZW5hdi1jb250YWluZXIge1xuICBtaW4taGVpZ2h0OiA2NTBweDtcbiAgb3ZlcmZsb3c6IHVuc2V0O1xufVxuXG4ubWF0LXNpZGVuYXYge1xuICBvdmVyZmxvdzogdW5zZXQ7XG59XG5cbi5tYXQtZHJhd2VyLWNvbnRlbnQge1xuICBwYWRkaW5nLWxlZnQ6IDNweDtcbn1cblxuLnN0aWNreSB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogNTBweDtcbn1cblxuLmNsb3NlLXByZXZpZXcge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMTVweDtcbiAgbGVmdDogMTVweDtcbiAgei1pbmRleDogMTtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHotaW5kZXg6IDEwMDE7XG59XG5cbi5oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4udHJhbnNpdGlvbkQge1xuICB0cmFuc2l0aW9uOiBhbGwgMC41cztcbn1cblxuLnVpIHtcbiAgYm9yZGVyOiAxcHggc29saWQgIzFhMTkxOTtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMHB4O1xuICBib3JkZXItbGVmdC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDBweDtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDUwJTtcbiAgYm94LXNoYWRvdzogMC4xcHggMnB4IDhweCBncmV5O1xuICB3aWR0aDogNDJweDtcbn1cblxuLnRvSGlkZSB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn0iXX0= */\"","import { DeleteDialogComponent } from '@ws/author/src/lib/modules/shared/components/delete-dialog/delete-dialog.component'\nimport { Component, OnDestroy, OnInit } from '@angular/core'\nimport { FormGroup } from '@angular/forms'\nimport { MatDialog, MatSnackBar } from '@angular/material'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { NOTIFICATION_TIME } from '@ws/author/src/lib/constants/constant'\nimport { Notify } from '@ws/author/src/lib/constants/notificationMessage'\nimport { IActionButton, IActionButtonConfig } from '@ws/author/src/lib/interface/action-button'\nimport { NSApiRequest } from '@ws/author/src/lib/interface/apiRequest'\nimport { IAuthSteps } from '@ws/author/src/lib/interface/auth-stepper'\nimport { NSContent } from '@ws/author/src/lib/interface/content'\nimport { CommentsDialogComponent } from '@ws/author/src/lib/modules/shared/components/comments-dialog/comments-dialog.component'\nimport { ConfirmDialogComponent } from '@ws/author/src/lib/modules/shared/components/confirm-dialog/confirm-dialog.component'\nimport { ErrorParserComponent } from '@ws/author/src/lib/modules/shared/components/error-parser/error-parser.component'\nimport { NotificationComponent } from '@ws/author/src/lib/modules/shared/components/notification/notification.component'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { EditorService } from '@ws/author/src/lib/routing/modules/editor/services/editor.service'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { LoaderService } from '@ws/author/src/lib/services/loader.service'\nimport { of, Subscription } from 'rxjs'\nimport { map, mergeMap, tap, catchError } from 'rxjs/operators'\nimport { IContentNode } from '../../interface/icontent-tree'\nimport { CollectionResolverService } from './../../services/resolver.service'\nimport { CollectionStoreService } from './../../services/store.service'\nimport { VIEWER_ROUTE_FROM_MIME } from '@ws-widget/collection'\nimport { NotificationService } from '@ws/author/src/lib/services/notification.service'\nimport { AccessControlService } from '@ws/author/src/lib/modules/shared/services/access-control.service'\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout'\n\n/**\n * @description\n * Parent component for the Collection editor. All the child component are loaded here. It decides the flow and the logic and\n * controls the api calls that are made for save and send for review and other\n *\n * @export\n * @class CollectionComponent\n * @implements {OnInit}\n */\n\n@Component({\n  selector: 'ws-auth-collection',\n  templateUrl: './collection.component.html',\n  styleUrls: ['./collection.component.scss'],\n  providers: [CollectionStoreService, CollectionResolverService],\n})\nexport class CollectionComponent implements OnInit, OnDestroy {\n  contents: NSContent.IContentMeta[] = []\n  currentParentId!: string\n  stepper: IAuthSteps[] = [\n    { title: 'Choose Type', disabled: true },\n    { title: 'Content', disabled: false },\n    { title: 'Details', disabled: false },\n  ]\n  isSubmitPressed = false\n  showLanguageBar = false\n  actionButton: IActionButtonConfig | null = null\n  currentStep = 1\n  currentContent!: string\n  activeContentSubscription: Subscription | null = null\n  routerSubscription: Subscription | null = null\n  isChanged = false\n  previewIdentifier: string | null = null\n  viewMode = 'meta'\n  mimeTypeRoute = ''\n\n  mediumScreen = false\n  sideBarOpened = false\n  mediumSizeBreakpoint$ = this.breakpointObserver\n    .observe([Breakpoints.XSmall, Breakpoints.Small])\n    .pipe(map((res: BreakpointState) => res.matches))\n  mode$ = this.mediumSizeBreakpoint$.pipe(map(isMedium => (isMedium ? 'over' : 'side')))\n  leftArrow = true\n\n  constructor(\n    private contentService: EditorContentService,\n    private activateRoute: ActivatedRoute,\n    private storeService: CollectionStoreService,\n    private resolverService: CollectionResolverService,\n    private initService: AuthInitService,\n    private loaderService: LoaderService,\n    private dialog: MatDialog,\n    private snackBar: MatSnackBar,\n    private editorService: EditorService,\n    private router: Router,\n    private notificationSvc: NotificationService,\n    private accessControlSvc: AccessControlService,\n    private breakpointObserver: BreakpointObserver,\n  ) {}\n\n  ngOnInit() {\n    this.contentService.changeActiveCont.subscribe(data => {\n      this.currentContent = data\n      if (this.contentService.getUpdatedMeta(data).contentType !== 'Resource') {\n        this.viewMode = 'meta'\n      }\n    })\n    if (this.activateRoute.parent && this.activateRoute.parent.parent) {\n      this.routerSubscription = this.activateRoute.parent.parent.data.subscribe(data => {\n        const contentDataMap = new Map<string, NSContent.IContentMeta>()\n        data.contents.map((v: { content: NSContent.IContentMeta; data: any }) => {\n          this.storeService.parentNode.push(v.content.identifier)\n          this.resolverService.buildTreeAndMap(\n            v.content,\n            contentDataMap,\n            this.storeService.flatNodeMap,\n            this.storeService.uniqueIdMap,\n            this.storeService.lexIdMap,\n          )\n        })\n        contentDataMap.forEach(content => this.contentService.setOriginalMeta(content))\n        const currentNode = (this.storeService.lexIdMap.get(this.currentContent) as number[])[0]\n        this.currentParentId = this.currentContent\n        this.storeService.treeStructureChange.next(\n          this.storeService.flatNodeMap.get(currentNode) as IContentNode,\n        )\n        this.storeService.currentParentNode = currentNode\n        this.storeService.currentSelectedNode = currentNode\n        this.storeService.selectedNodeChange.next(currentNode)\n      })\n    }\n    this.stepper = this.initService.collectionConfig.stepper\n    this.showLanguageBar = this.initService.collectionConfig.languageBar\n    const actionButton: IActionButton[] = []\n    this.initService.collectionConfig.actionButtons.buttons.forEach(action => {\n      if (\n        this.contentService.checkConditionV2(\n          this.contentService.getOriginalMeta(this.currentParentId),\n          action.conditions,\n        )\n      ) {\n        actionButton.push({\n          title: action.title,\n          icon: action.icon,\n          event: action.event,\n          conditions: action.conditions,\n        })\n      }\n    })\n    this.actionButton = {\n      enabled: this.initService.collectionConfig.actionButtons.enabled,\n      buttons: actionButton,\n    }\n    this.mediumSizeBreakpoint$.subscribe(isLtMedium => {\n      this.mediumScreen = isLtMedium\n      this.sideBarOpened = !isLtMedium\n    })\n  }\n\n  ngOnDestroy() {\n    this.loaderService.changeLoad.next(false)\n  }\n\n  sidenavClose() {\n    setTimeout(() => (this.leftArrow = true), 500)\n  }\n\n  save(nextAction?: string) {\n    const updatedContent = this.contentService.upDatedContent || {}\n    if (\n      Object.keys(updatedContent).length ||\n      Object.keys(this.storeService.changedHierarchy).length\n    ) {\n      this.isChanged = true\n      this.loaderService.changeLoad.next(true)\n      this.triggerSave().subscribe(\n        () => {\n          if (nextAction) {\n            this.action(nextAction)\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: Notify.SAVE_SUCCESS,\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n        },\n        (error: any) => {\n          if (error.status === 409) {\n            const errorMap = new Map<string, NSContent.IContentMeta>()\n            Object.keys(this.contentService.originalContent).forEach(v =>\n              errorMap.set(v, this.contentService.originalContent[v]),\n            )\n            const dialog = this.dialog.open(ErrorParserComponent, {\n              width: '80vw',\n              height: '90vh',\n              data: {\n                errorFromBackendData: error.error,\n                dataMapping: errorMap,\n              },\n            })\n            dialog.afterClosed().subscribe(v => {\n              if (v) {\n                if (typeof v === 'string') {\n                  this.storeService.selectedNodeChange.next(\n                    (this.storeService.lexIdMap.get(v) as number[])[0],\n                  )\n                  this.contentService.changeActiveCont.next(v)\n                } else {\n                  this.storeService.selectedNodeChange.next(v)\n                  this.contentService.changeActiveCont.next(\n                    this.storeService.uniqueIdMap.get(v) as string,\n                  )\n                }\n              }\n            })\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: Notify.SAVE_FAIL,\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n        },\n      )\n    } else {\n      if (nextAction) {\n        this.action(nextAction)\n      } else {\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.UP_TO_DATE,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    }\n  }\n\n  get validationCheck(): boolean {\n    const currentNodeId = this.storeService.lexIdMap.get(this.currentParentId) as number[]\n    const returnValue = this.storeService.validationCheck(currentNodeId[0])\n    if (returnValue) {\n      const dialog = this.dialog.open(ErrorParserComponent, {\n        width: '80vw',\n        height: '90vh',\n        data: {\n          processErrorData: returnValue,\n        },\n      })\n      dialog.afterClosed().subscribe(v => {\n        if (v) {\n          if (typeof v === 'string') {\n            this.storeService.selectedNodeChange.next(\n              (this.storeService.lexIdMap.get(v) as number[])[0],\n            )\n            this.contentService.changeActiveCont.next(v)\n          } else {\n            this.storeService.selectedNodeChange.next(v)\n            this.contentService.changeActiveCont.next(\n              this.storeService.uniqueIdMap.get(v) as string,\n            )\n          }\n        }\n      })\n      return false\n    }\n    return true\n  }\n\n  takeAction() {\n    this.isSubmitPressed = true\n    const needSave = Object.keys(this.contentService.upDatedContent || {}).length\n    if (!needSave && !this.isChanged) {\n      this.snackBar.openFromComponent(NotificationComponent, {\n        data: {\n          type: Notify.UP_TO_DATE,\n        },\n        duration: NOTIFICATION_TIME * 1000,\n      })\n      return\n    }\n    if (this.validationCheck) {\n      const dialogRef = this.dialog.open(CommentsDialogComponent, {\n        width: '750px',\n        height: '450px',\n        data: this.contentService.getOriginalMeta(this.currentParentId),\n      })\n\n      dialogRef.afterClosed().subscribe((commentsForm: FormGroup) => {\n        this.finalCall(commentsForm)\n      })\n    }\n  }\n\n  finalCall(commentsForm: FormGroup) {\n    if (commentsForm) {\n      const body: NSApiRequest.IForwardBackwardActionGeneral = {\n        comment: commentsForm.controls.comments.value,\n        operation:\n          commentsForm.controls.action.value === 'accept' ||\n          ['Draft', 'Live'].includes(\n            this.contentService.originalContent[this.currentParentId].status,\n          )\n            ? 1\n            : 0,\n      }\n      const updatedMeta = this.contentService.getUpdatedMeta(this.currentParentId)\n      const needSave =\n        Object.keys(this.contentService.upDatedContent || {}).length ||\n        Object.keys(this.storeService.changedHierarchy).length\n      const saveCall = (needSave ? this.triggerSave() : of({} as any)).pipe(\n        mergeMap(() =>\n          this.editorService\n            .forwardBackward(\n              body,\n              this.currentParentId,\n              this.contentService.originalContent[this.currentParentId].status,\n            )\n            .pipe(\n              mergeMap(() =>\n                this.notificationSvc\n                  .triggerPushPullNotification(\n                    updatedMeta,\n                    body.comment,\n                    body.operation ? true : false,\n                  )\n                  .pipe(\n                    catchError(() => {\n                      return of({} as any)\n                    }),\n                  ),\n              ),\n            ),\n        ),\n      )\n      this.loaderService.changeLoad.next(true)\n      saveCall.subscribe(\n        () => {\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: this.getMessage('success'),\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n          this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n          if (this.contents.length) {\n            this.contentService.changeActiveCont.next(this.contents[0].identifier)\n          } else {\n            this.router.navigateByUrl('/author/home')\n          }\n        },\n        (error: any) => {\n          if (error.status === 409) {\n            const errorMap = new Map<string, NSContent.IContentMeta>()\n            Object.keys(this.contentService.originalContent).forEach(v =>\n              errorMap.set(v, this.contentService.originalContent[v]),\n            )\n            const dialog = this.dialog.open(ErrorParserComponent, {\n              width: '80vw',\n              height: '90vh',\n              data: {\n                errorFromBackendData: error.error,\n                dataMapping: errorMap,\n              },\n            })\n            dialog.afterClosed().subscribe(v => {\n              if (v) {\n                if (typeof v === 'string') {\n                  this.storeService.selectedNodeChange.next(\n                    (this.storeService.lexIdMap.get(v) as number[])[0],\n                  )\n                  this.contentService.changeActiveCont.next(v)\n                } else {\n                  this.storeService.selectedNodeChange.next(v)\n                  this.contentService.changeActiveCont.next(\n                    this.storeService.uniqueIdMap.get(v) as string,\n                  )\n                }\n              }\n            })\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: this.getMessage('failure'),\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n        },\n      )\n    }\n  }\n\n  preview(id: string) {\n    const updatedContent = this.contentService.upDatedContent || {}\n    const saveCall =\n      Object.keys(updatedContent).length || Object.keys(this.storeService.changedHierarchy).length\n        ? this.triggerSave()\n        : of({} as any)\n    this.loaderService.changeLoad.next(true)\n    saveCall.subscribe(\n      () => {\n        this.mimeTypeRoute = VIEWER_ROUTE_FROM_MIME(\n          this.contentService.getUpdatedMeta(id).mimeType as any,\n        )\n        this.loaderService.changeLoad.next(false)\n        this.previewIdentifier = id\n      },\n      error => {\n        if (error.status === 409) {\n          const errorMap = new Map<string, NSContent.IContentMeta>()\n          Object.keys(this.contentService.originalContent).forEach(v =>\n            errorMap.set(v, this.contentService.originalContent[v]),\n          )\n          const dialog = this.dialog.open(ErrorParserComponent, {\n            width: '750px',\n            height: '450px',\n            data: {\n              errorFromBackendData: error.error,\n              dataMapping: errorMap,\n            },\n          })\n          dialog.afterClosed().subscribe(v => {\n            if (v) {\n              if (typeof v === 'string') {\n                this.storeService.selectedNodeChange.next(\n                  (this.storeService.lexIdMap.get(v) as number[])[0],\n                )\n                this.contentService.changeActiveCont.next(v)\n              } else {\n                this.storeService.selectedNodeChange.next(v)\n                this.contentService.changeActiveCont.next(\n                  this.storeService.uniqueIdMap.get(v) as string,\n                )\n              }\n            }\n          })\n        }\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SAVE_FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      },\n    )\n  }\n\n  closePreview() {\n    this.previewIdentifier = null\n  }\n\n  triggerSave() {\n    const nodesModified: any = {}\n    let isRootPresent = false\n    Object.keys(this.contentService.upDatedContent).forEach(v => {\n      if (!isRootPresent) {\n        isRootPresent = this.storeService.parentNode.includes(v)\n      }\n      nodesModified[v] = {\n        isNew: false,\n        root: this.storeService.parentNode.includes(v),\n        metadata: this.contentService.upDatedContent[v],\n      }\n    })\n    if (!isRootPresent) {\n      nodesModified[this.currentParentId] = {\n        isNew: false,\n        root: true,\n        metadata: {},\n      }\n    }\n    const requestBody: NSApiRequest.IContentUpdate = {\n      nodesModified,\n      hierarchy: this.storeService.changedHierarchy,\n    }\n    return this.editorService.updateContentV2(requestBody).pipe(\n      tap(() => {\n        this.storeService.changedHierarchy = {}\n        Object.keys(this.contentService.upDatedContent).forEach(id => {\n          this.contentService.resetOriginalMeta(this.contentService.upDatedContent[id], id)\n        })\n        this.contentService.upDatedContent = {}\n      }),\n    )\n  }\n\n  getMessage(type: 'success' | 'failure') {\n    if (type === 'success') {\n      switch (this.contentService.originalContent[this.currentParentId].status) {\n        case 'Draft':\n        case 'Live':\n          return Notify.SEND_FOR_REVIEW_SUCCESS\n        case 'InReview':\n          return Notify.REVIEW_SUCCESS\n        case 'Reviewed':\n          return Notify.PUBLISH_SUCCESS\n        default:\n          return ''\n      }\n    }\n    switch (this.contentService.originalContent[this.currentParentId].status) {\n      case 'Draft':\n      case 'Live':\n        return Notify.SEND_FOR_REVIEW_FAIL\n      case 'InReview':\n        return Notify.REVIEW_FAIL\n      case 'Reviewed':\n        return Notify.PUBLISH_FAIL\n      default:\n        return ''\n    }\n  }\n\n  subAction(event: { type: string; identifier: string }) {\n    this.contentService.changeActiveCont.next(event.identifier)\n    switch (event.type) {\n      case 'editMeta':\n        this.viewMode = 'meta'\n        break\n      case 'editContent':\n        const content = this.contentService.getUpdatedMeta(event.identifier)\n        if (['application/pdf', 'application/x-mpegURL'].includes(content.mimeType)) {\n          this.viewMode = 'upload'\n        } else if (content.mimeType === 'application/html' && !content.isExternal) {\n          this.viewMode = 'upload'\n        } else if (content.mimeType === 'application/html') {\n          this.viewMode = 'curate'\n        }\n        break\n      case 'preview':\n        this.preview(event.identifier)\n        break\n    }\n  }\n\n  action(type: string) {\n    switch (type) {\n      case 'next':\n        this.viewMode = 'meta'\n        break\n\n      case 'save':\n        this.save()\n        break\n\n      case 'saveAndNext':\n        this.save('next')\n        break\n\n      case 'preview':\n        this.preview(this.currentContent)\n        break\n\n      case 'push':\n        if (this.getAction() === 'publish') {\n          const dialogRefForPublish = this.dialog.open(ConfirmDialogComponent, {\n            width: '70%',\n            data: 'publishMessage',\n          })\n          dialogRefForPublish.afterClosed().subscribe(result => {\n            if (result) {\n              this.takeAction()\n            }\n          })\n        } else {\n          this.takeAction()\n        }\n        break\n\n      case 'delete':\n        const dialog = this.dialog.open(DeleteDialogComponent, {\n          width: '600px',\n          height: 'auto',\n          data: this.contentService.getUpdatedMeta(this.currentParentId),\n        })\n        dialog.afterClosed().subscribe(confirm => {\n          if (confirm) {\n            this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n            if (this.contents.length) {\n              this.contentService.changeActiveCont.next(this.contents[0].identifier)\n            } else {\n              this.router.navigateByUrl('/author/home')\n            }\n          }\n        })\n        break\n\n      case 'fullscreen':\n        this.fullScreenToggle()\n        break\n\n      case 'close':\n        this.router.navigateByUrl('/author/home')\n        break\n    }\n  }\n\n  delete() {\n    this.loaderService.changeLoad.next(true)\n    this.editorService.deleteContent(this.currentParentId).subscribe(\n      () => {\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SUCCESS,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n        this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n        if (this.contents.length) {\n          this.contentService.changeActiveCont.next(this.contents[0].identifier)\n        } else {\n          this.router.navigateByUrl('/author/home')\n        }\n      },\n      error => {\n        if (error.status === 409) {\n          const errorMap = new Map<string, NSContent.IContentMeta>()\n          Object.keys(this.contentService.originalContent).forEach(v =>\n            errorMap.set(v, this.contentService.originalContent[v]),\n          )\n          const dialog = this.dialog.open(ErrorParserComponent, {\n            width: '750px',\n            height: '450px',\n            data: {\n              errorFromBackendData: error.error,\n              dataMapping: errorMap,\n            },\n          })\n          dialog.afterClosed().subscribe(v => {\n            if (v) {\n              if (typeof v === 'string') {\n                this.storeService.selectedNodeChange.next(\n                  (this.storeService.lexIdMap.get(v) as number[])[0],\n                )\n                this.contentService.changeActiveCont.next(v)\n              } else {\n                this.storeService.selectedNodeChange.next(v)\n                this.contentService.changeActiveCont.next(\n                  this.storeService.uniqueIdMap.get(v) as string,\n                )\n              }\n            }\n          })\n        }\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.CONTENT_FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      },\n    )\n  }\n\n  fullScreenToggle = () => {\n    const doc: any = document\n    const elm: any = doc.getElementById('auth-toc')\n    if (elm.requestFullscreen) {\n      !doc.fullscreenElement ? elm.requestFullscreen() : doc.exitFullscreen()\n    } else if (elm.mozRequestFullScreen) {\n      !doc.mozFullScreen ? elm.mozRequestFullScreen() : doc.mozCancelFullScreen()\n    } else if (elm.msRequestFullscreen) {\n      !doc.msFullscreenElement ? elm.msRequestFullscreen() : doc.msExitFullscreen()\n    } else if (elm.webkitRequestFullscreen) {\n      !doc.webkitIsFullscreen ? elm.webkitRequestFullscreen() : doc.webkitCancelFullscreen()\n    }\n  }\n\n  getAction(): string {\n    switch (this.contentService.originalContent[this.currentParentId].status) {\n      case 'Draft':\n      case 'Live':\n        return 'sendForReview'\n      case 'InReview':\n        return 'review'\n      case 'Reviewed':\n        return 'publish'\n      default:\n        return 'sendForReview'\n    }\n  }\n\n  canDelete() {\n    return (\n      this.accessControlSvc.hasRole(['editor', 'admin']) ||\n      (['Draft', 'Live'].includes(\n        this.contentService.originalContent[this.currentParentId].status,\n      ) &&\n        this.contentService.originalContent[this.currentParentId].creatorContacts.find(\n          v => v.id === this.accessControlSvc.userId,\n        ))\n    )\n  }\n}\n","export default \".example-container {\\n  height: 100vh;\\n}\\n\\n::ng-deep #auth-toc .mat-drawer-inner-container {\\n  min-width: 250px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb3Vyc2UtY29sbGVjdGlvbi9jb3Vyc2UtY29sbGVjdGlvbi5jb21wb25lbnQuc2NzcyIsInByb2plY3Qvd3MvYXV0aG9yL3NyYy9saWIvcm91dGluZy9tb2R1bGVzL2VkaXRvci9yb3V0aW5nL21vZHVsZXMvY29sbGVjdGlvbi9jb21wb25lbnRzL2NvdXJzZS1jb2xsZWN0aW9uL2NvdXJzZS1jb2xsZWN0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtBQ0NKOztBRHFCSTtFQUNFLGdCQUFBO0FDbEJOIiwiZmlsZSI6InByb2plY3Qvd3MvYXV0aG9yL3NyYy9saWIvcm91dGluZy9tb2R1bGVzL2VkaXRvci9yb3V0aW5nL21vZHVsZXMvY29sbGVjdGlvbi9jb21wb25lbnRzL2NvdXJzZS1jb2xsZWN0aW9uL2NvdXJzZS1jb2xsZWN0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4YW1wbGUtY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDEwMHZoO1xufVxuXG4vLyAub3V0ZXItZmxleCB7XG4vLyAgICAgZGlzcGxheTogZmxleDtcbi8vICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbi8vIH1cbi8vIC5jb250ZW50LWJveCB7XG4vLyAgICAgd2lkdGg6IDczJTtcbi8vIH1cbi8vIC5zaWRlYmFyIHtcbi8vICAgICB3aWR0aDogMjMlO1xuLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbi8vICAgICB0b3A6IC0zN3B4O1xuLy8gICAgIGJvdHRvbTogMDtcbi8vICAgICByaWdodDogMDtcbi8vICAgICBwYWRkaW5nLXJpZ2h0OiAxZW07XG4vLyAgICAgYmFja2dyb3VuZDogI2ZmZjtcbi8vICAgICBwYWRkaW5nLXRvcDogM2VtO1xuLy8gfVxuXG46Om5nLWRlZXAgI2F1dGgtdG9jIHtcbiAgICAubWF0LWRyYXdlci1pbm5lci1jb250YWluZXIge1xuICAgICAgbWluLXdpZHRoOiAyNTBweDtcbiAgICB9XG4gIH1cbiIsIi5leGFtcGxlLWNvbnRhaW5lciB7XG4gIGhlaWdodDogMTAwdmg7XG59XG5cbjo6bmctZGVlcCAjYXV0aC10b2MgLm1hdC1kcmF3ZXItaW5uZXItY29udGFpbmVyIHtcbiAgbWluLXdpZHRoOiAyNTBweDtcbn0iXX0= */\"","import { DeleteDialogComponent } from '@ws/author/src/lib/modules/shared/components/delete-dialog/delete-dialog.component'\nimport { Component, OnDestroy, OnInit } from '@angular/core'\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms'\nimport { MatDialog, MatSnackBar } from '@angular/material'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { NOTIFICATION_TIME } from '@ws/author/src/lib/constants/constant'\nimport { Notify } from '@ws/author/src/lib/constants/notificationMessage'\nimport { IActionButton, IActionButtonConfig } from '@ws/author/src/lib/interface/action-button'\nimport { NSApiRequest } from '@ws/author/src/lib/interface/apiRequest'\nimport { IAuthSteps } from '@ws/author/src/lib/interface/auth-stepper'\nimport { NSContent } from '@ws/author/src/lib/interface/content'\nimport { CommentsDialogComponent } from '@ws/author/src/lib/modules/shared/components/comments-dialog/comments-dialog.component'\nimport { ConfirmDialogComponent } from '@ws/author/src/lib/modules/shared/components/confirm-dialog/confirm-dialog.component'\nimport { ErrorParserComponent } from '@ws/author/src/lib/modules/shared/components/error-parser/error-parser.component'\nimport { NotificationComponent } from '@ws/author/src/lib/modules/shared/components/notification/notification.component'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { EditorService } from '@ws/author/src/lib/routing/modules/editor/services/editor.service'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { LoaderService } from '@ws/author/src/lib/services/loader.service'\nimport { of, Subscription } from 'rxjs'\nimport { map, mergeMap, tap, catchError } from 'rxjs/operators'\nimport { IContentNode, IContentTreeNode } from '../../interface/icontent-tree'\nimport { CollectionResolverService } from './../../services/resolver.service'\nimport { CollectionStoreService } from './../../services/store.service'\nimport { VIEWER_ROUTE_FROM_MIME } from '@ws-widget/collection'\nimport { NotificationService } from '@ws/author/src/lib/services/notification.service'\nimport { AccessControlService } from '@ws/author/src/lib/modules/shared/services/access-control.service'\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout'\n// import { HeaderServiceService } from './../../../../../../../../../../../../../src/app/services/header-service.service'\n// import { RootService } from 'src/app/component/root/root.service'\nimport { FlatTreeControl } from '@angular/cdk/tree'\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'ws-author-course-collection',\n  templateUrl: './course-collection.component.html',\n  styleUrls: ['./course-collection.component.scss'],\n  providers: [CollectionStoreService, CollectionResolverService],\n})\nexport class CourseCollectionComponent implements OnInit, OnDestroy {\n  contents: NSContent.IContentMeta[] = []\n  couseCreated = ''\n  currentParentId!: string\n  stepper: IAuthSteps[] = [\n    { title: 'Choose Type', disabled: true },\n    { title: 'Content', disabled: false },\n    { title: 'Details', disabled: false },\n  ]\n  isSubmitPressed = false\n  showLanguageBar = false\n  actionButton: IActionButtonConfig | null = null\n  currentStep = 1\n  currentContent!: string\n  activeContentSubscription: Subscription | null = null\n  routerSubscription: Subscription | null = null\n  isChanged = false\n  previewIdentifier: string | null = null\n  viewMode = 'meta'\n  mimeTypeRoute = ''\n\n  mediumScreen = false\n  sideBarOpened = false\n  mediumSizeBreakpoint$ = this.breakpointObserver\n    .observe([Breakpoints.XSmall, Breakpoints.Small])\n    .pipe(map((res: BreakpointState) => res.matches))\n  mode$ = this.mediumSizeBreakpoint$.pipe(map(isMedium => (isMedium ? 'over' : 'side')))\n  leftArrow = true\n  showAddchapter = false\n  createTopicForm: FormGroup | undefined\n  reloadTOC = false\n  public sideNavBarOpened = false\n  callSaveFn!: boolean\n  courseName: any\n  parentNodeId!: number\n  expandedNodes = new Set<number>()\n  treeControl!: FlatTreeControl<IContentTreeNode>\n  triggerQuizSave = false\n  triggerUploadSave = false\n\n  constructor(\n    private contentService: EditorContentService,\n    private activateRoute: ActivatedRoute,\n    private storeService: CollectionStoreService,\n    private resolverService: CollectionResolverService,\n    private initService: AuthInitService,\n    private loaderService: LoaderService,\n    private dialog: MatDialog,\n    private snackBar: MatSnackBar,\n    private editorService: EditorService,\n    private router: Router,\n    private notificationSvc: NotificationService,\n    private accessControlSvc: AccessControlService,\n    private breakpointObserver: BreakpointObserver,\n    private fb: FormBuilder,\n    // private headerService: HeaderServiceService,\n    // private rootSvc: RootService,\n  ) {\n    // this.callSaveFn = this.headerService.isSavePressed\n    // this.rootSvc.showNavbarDisplay$.next(false)\n    // this.headerService.headerSaveData.subscribe(data => {\n    //   if (data) {\n    //     this.save()\n    //   }\n    // })\n  }\n\n  ngOnInit() {\n    this.routerValuesCall()\n    this.parentNodeId = this.storeService.currentParentNode\n    // this.expandNodesById([this.parentNodeId])\n    this.createTopicForm = this.fb.group({\n      topicName: new FormControl('', [Validators.required]),\n      topicDescription: new FormControl('', [Validators.required]),\n    })\n\n    this.stepper = this.initService.collectionConfig.stepper\n    this.showLanguageBar = this.initService.collectionConfig.languageBar\n    const actionButton: IActionButton[] = []\n    this.initService.collectionConfig.actionButtons.buttons.forEach(action => {\n      if (\n        this.contentService.checkConditionV2(\n          this.contentService.getOriginalMeta(this.currentParentId),\n          action.conditions,\n        )\n      ) {\n        actionButton.push({\n          title: action.title,\n          icon: action.icon,\n          event: action.event,\n          conditions: action.conditions,\n        })\n      }\n    })\n    this.actionButton = {\n      enabled: this.initService.collectionConfig.actionButtons.enabled,\n      buttons: actionButton,\n    }\n    this.mediumSizeBreakpoint$.subscribe(isLtMedium => {\n      this.mediumScreen = isLtMedium\n      this.sideBarOpened = !isLtMedium\n    })\n  }\n\n  routerValuesCall() {\n    this.contentService.changeActiveCont.subscribe(data => {\n      this.currentContent = data\n\n      if (this.contentService.getUpdatedMeta(data).contentType !== 'Resource') {\n        this.viewMode = 'meta'\n      }\n\n    })\n\n    if (this.activateRoute.parent && this.activateRoute.parent.parent) {\n      this.routerSubscription = this.activateRoute.parent.parent.data.subscribe(data => {\n\n        this.courseName = data.contents[0].content.name\n\n        const contentDataMap = new Map<string, NSContent.IContentMeta>()\n\n        data.contents.map((v: { content: NSContent.IContentMeta; data: any }) => {\n          this.storeService.parentNode.push(v.content.identifier)\n          this.resolverService.buildTreeAndMap(\n            v.content,\n            contentDataMap,\n            this.storeService.flatNodeMap,\n            this.storeService.uniqueIdMap,\n            this.storeService.lexIdMap,\n          )\n        })\n        contentDataMap.forEach(content => this.contentService.setOriginalMeta(content))\n        const currentNode = (this.storeService.lexIdMap.get(this.currentContent) as number[])[0]\n\n        this.currentParentId = this.currentContent\n        this.storeService.treeStructureChange.next(\n          this.storeService.flatNodeMap.get(currentNode) as IContentNode,\n        )\n        this.storeService.currentParentNode = currentNode\n        this.storeService.currentSelectedNode = currentNode\n        let newCreatedNode = 0\n        const newCreatedLexid = this.editorService.newCreatedLexid\n        if (newCreatedLexid) {\n          newCreatedNode = (this.storeService.lexIdMap.get(newCreatedLexid) as number[])[0]\n          this.storeService.selectedNodeChange.next(newCreatedNode)\n        }\n\n        if (data.contents[0] && data.contents[0].content && data.contents[0].content.children[0] &&\n          data.contents[0].content.children[0].identifier) {\n          this.subAction({ type: 'editContent', identifier: data.contents[0].content.children[0].identifier, nodeClicked: true })\n          this.storeService.selectedNodeChange.next(data.contents[0].content.children[0].identifier)\n        }\n\n        // this.storeService.selectedNodeChange.subscribe(node => {\n        //   if (node) {\n        //     console.log('selected node', node)\n        //     const getNodeId = (this.storeService.lexIdMap.get(node.toString()) as number[])[0]\n        //     this.storeService.currentSelectedNode = getNodeId\n\n        //     // this.contentService.currentContent = node.toString()\n\n        //     // this.contentService.changeActiveCont.next(node.toString())\n\n        //   }\n        // })\n\n      })\n\n      this.activateRoute.parent.url.subscribe(data => {\n        const urlParam = data[0].path\n        // if (urlParam === 'collection') {\n        //   this.headerService.showCreatorHeader(this.courseName)\n        // }\n\n      })\n    }\n  }\n\n  expandNodesById(ids?: number[]) {\n    const idSet = ids ? new Set(ids) : this.expandedNodes\n    this.treeControl.dataNodes.forEach(node => {\n      if (idSet.has(node.id)) {\n        this.treeControl.expand(node)\n        let parent = this.getParentNode(node)\n        while (parent) {\n          this.treeControl.expand(parent)\n          parent = this.getParentNode(parent)\n        }\n      }\n    })\n  }\n\n  getParentNode(node: IContentTreeNode): IContentTreeNode | null {\n    const currentLevel = node.level\n\n    if (currentLevel < 1) {\n      return null\n    }\n\n    const startIndex = this.treeControl.dataNodes.indexOf(node) - 1\n\n    for (let i = startIndex; i >= 0; i = i - 1) {\n      const currentNode = this.treeControl.dataNodes[i]\n\n      if (currentNode.level < currentLevel) {\n        return currentNode\n      }\n    }\n    return null\n  }\n\n  ngOnDestroy() {\n    this.loaderService.changeLoad.next(false)\n    // this.headerService.showCreatorHeader('showlogo')\n    // this.rootSvc.showNavbarDisplay$.next(true)\n  }\n\n  addChapterName() {\n    // console.log('newchap', this.newChapterName)\n  }\n\n  async setContentType(param: string) {\n    if (this.createTopicForm && this.createTopicForm.value) {\n\n      this.couseCreated = param\n      const asSibling = false\n\n      const node = {\n        id: this.storeService.currentParentNode,\n        identifier: this.storeService.parentNode[0],\n        editable: true,\n        category: 'Course',\n        childLoaded: true,\n        expandable: true,\n        level: 1,\n      }\n\n      const parentNode = node\n      this.loaderService.changeLoad.next(true)\n\n      const isDone = await this.storeService.createChildOrSibling(\n        this.couseCreated,\n        parentNode,\n        asSibling ? node.id : undefined,\n        'below',\n        this.createTopicForm.value,\n        param === 'web' ? 'link' : '',\n\n      )\n\n      this.snackBar.openFromComponent(NotificationComponent, {\n        data: {\n          type: isDone ? Notify.SUCCESS : Notify.FAIL,\n        },\n        duration: NOTIFICATION_TIME * 1000,\n\n      })\n\n      if (isDone) {\n\n        const newCreatedLexid = this.editorService.newCreatedLexid\n        const newCreatedNode = (this.storeService.lexIdMap.get(newCreatedLexid) as number[])[0]\n        this.storeService.currentSelectedNode = newCreatedNode\n        this.storeService.selectedNodeChange.next(newCreatedNode)\n        this.currentContent = this.editorService.newCreatedLexid\n      }\n      this.showAddchapter = false\n      this.loaderService.changeLoad.next(false)\n\n      this.subAction({ type: 'editContent', identifier: this.editorService.newCreatedLexid, nodeClicked: false })\n      this.createTopicForm.reset()\n      this.save()\n    }\n  }\n\n  sidenavClose() {\n    setTimeout(() => (this.leftArrow = true), 500)\n  }\n\n  save(nextAction?: string) {\n\n    const updatedContent = this.contentService.upDatedContent || {}\n    if (this.viewMode === 'assessment') {\n      this.triggerQuizSave = true\n    } else\n    if (this.viewMode === 'upload') {\n    // TODO  console.log('viewmode', this.viewMode)\n      this.triggerUploadSave = true\n    }\n    if (\n      Object.keys(updatedContent).length ||\n      Object.keys(this.storeService.changedHierarchy).length\n    ) {\n      this.isChanged = true\n      this.loaderService.changeLoad.next(true)\n      this.triggerSave().subscribe(\n        () => {\n          if (nextAction) {\n            this.action(nextAction)\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: Notify.SAVE_SUCCESS,\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n          // window.location.reload()\n        },\n        (error: any) => {\n          if (error.status === 409) {\n            const errorMap = new Map<string, NSContent.IContentMeta>()\n            Object.keys(this.contentService.originalContent).forEach(v =>\n              errorMap.set(v, this.contentService.originalContent[v]),\n            )\n            const dialog = this.dialog.open(ErrorParserComponent, {\n              width: '80vw',\n              height: '90vh',\n              data: {\n                errorFromBackendData: error.error,\n                dataMapping: errorMap,\n              },\n            })\n            dialog.afterClosed().subscribe(v => {\n              if (v) {\n                if (typeof v === 'string') {\n                  this.storeService.selectedNodeChange.next(\n                    (this.storeService.lexIdMap.get(v) as number[])[0],\n                  )\n                  this.contentService.changeActiveCont.next(v)\n                } else {\n                  this.storeService.selectedNodeChange.next(v)\n                  this.contentService.changeActiveCont.next(\n                    this.storeService.uniqueIdMap.get(v) as string,\n                  )\n                }\n              }\n            })\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: Notify.SAVE_FAIL,\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n        },\n      )\n    } else {\n      if (nextAction) {\n        this.action(nextAction)\n      } else {\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.UP_TO_DATE,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      }\n    }\n  }\n\n  get validationCheck(): boolean {\n    const currentNodeId = this.storeService.lexIdMap.get(this.currentParentId) as number[]\n    const returnValue = this.storeService.validationCheck(currentNodeId[0])\n    if (returnValue) {\n      const dialog = this.dialog.open(ErrorParserComponent, {\n        width: '80vw',\n        height: '90vh',\n        data: {\n          processErrorData: returnValue,\n        },\n      })\n      dialog.afterClosed().subscribe(v => {\n        if (v) {\n          if (typeof v === 'string') {\n            this.storeService.selectedNodeChange.next(\n              (this.storeService.lexIdMap.get(v) as number[])[0],\n            )\n            this.contentService.changeActiveCont.next(v)\n          } else {\n            this.storeService.selectedNodeChange.next(v)\n            this.contentService.changeActiveCont.next(\n              this.storeService.uniqueIdMap.get(v) as string,\n            )\n          }\n        }\n      })\n      return false\n    }\n    return true\n  }\n\n  takeAction() {\n    this.isSubmitPressed = true\n    const needSave = Object.keys(this.contentService.upDatedContent || {}).length\n    if (!needSave && !this.isChanged) {\n      this.snackBar.openFromComponent(NotificationComponent, {\n        data: {\n          type: Notify.UP_TO_DATE,\n        },\n        duration: NOTIFICATION_TIME * 1000,\n      })\n      return\n    }\n    if (this.validationCheck) {\n      const dialogRef = this.dialog.open(CommentsDialogComponent, {\n        width: '750px',\n        height: '450px',\n        data: this.contentService.getOriginalMeta(this.currentParentId),\n      })\n\n      dialogRef.afterClosed().subscribe((commentsForm: FormGroup) => {\n        this.finalCall(commentsForm)\n      })\n    }\n  }\n\n  finalCall(commentsForm: FormGroup) {\n    if (commentsForm) {\n      const body: NSApiRequest.IForwardBackwardActionGeneral = {\n        comment: commentsForm.controls.comments.value,\n        operation:\n          commentsForm.controls.action.value === 'accept' ||\n            ['Draft', 'Live'].includes(\n              this.contentService.originalContent[this.currentParentId].status,\n            )\n            ? 1\n            : 0,\n      }\n      const updatedMeta = this.contentService.getUpdatedMeta(this.currentParentId)\n      const needSave =\n        Object.keys(this.contentService.upDatedContent || {}).length ||\n        Object.keys(this.storeService.changedHierarchy).length\n      const saveCall = (needSave ? this.triggerSave() : of({} as any)).pipe(\n        mergeMap(() =>\n          this.editorService\n            .forwardBackward(\n              body,\n              this.currentParentId,\n              this.contentService.originalContent[this.currentParentId].status,\n            )\n            .pipe(\n              mergeMap(() =>\n                this.notificationSvc\n                  .triggerPushPullNotification(\n                    updatedMeta,\n                    body.comment,\n                    body.operation ? true : false,\n                  )\n                  .pipe(\n                    catchError(() => {\n                      return of({} as any)\n                    }),\n                  ),\n              ),\n            ),\n        ),\n      )\n      this.loaderService.changeLoad.next(true)\n      saveCall.subscribe(\n        () => {\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: this.getMessage('success'),\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n          this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n          if (this.contents.length) {\n            this.contentService.changeActiveCont.next(this.contents[0].identifier)\n          } else {\n            this.router.navigateByUrl('/author/home')\n          }\n        },\n        (error: any) => {\n          if (error.status === 409) {\n            const errorMap = new Map<string, NSContent.IContentMeta>()\n            Object.keys(this.contentService.originalContent).forEach(v =>\n              errorMap.set(v, this.contentService.originalContent[v]),\n            )\n            const dialog = this.dialog.open(ErrorParserComponent, {\n              width: '80vw',\n              height: '90vh',\n              data: {\n                errorFromBackendData: error.error,\n                dataMapping: errorMap,\n              },\n            })\n            dialog.afterClosed().subscribe(v => {\n              if (v) {\n                if (typeof v === 'string') {\n                  this.storeService.selectedNodeChange.next(\n                    (this.storeService.lexIdMap.get(v) as number[])[0],\n                  )\n                  this.contentService.changeActiveCont.next(v)\n                } else {\n                  this.storeService.selectedNodeChange.next(v)\n                  this.contentService.changeActiveCont.next(\n                    this.storeService.uniqueIdMap.get(v) as string,\n                  )\n                }\n              }\n            })\n          }\n          this.loaderService.changeLoad.next(false)\n          this.snackBar.openFromComponent(NotificationComponent, {\n            data: {\n              type: this.getMessage('failure'),\n            },\n            duration: NOTIFICATION_TIME * 1000,\n          })\n        },\n      )\n    }\n  }\n\n  preview(id: string) {\n    const updatedContent = this.contentService.upDatedContent || {}\n    const saveCall =\n      Object.keys(updatedContent).length || Object.keys(this.storeService.changedHierarchy).length\n        ? this.triggerSave()\n        : of({} as any)\n    this.loaderService.changeLoad.next(true)\n    saveCall.subscribe(\n      () => {\n        this.mimeTypeRoute = VIEWER_ROUTE_FROM_MIME(\n          this.contentService.getUpdatedMeta(id).mimeType as any,\n        )\n        this.loaderService.changeLoad.next(false)\n        this.previewIdentifier = id\n      },\n      error => {\n        if (error.status === 409) {\n          const errorMap = new Map<string, NSContent.IContentMeta>()\n          Object.keys(this.contentService.originalContent).forEach(v =>\n            errorMap.set(v, this.contentService.originalContent[v]),\n          )\n          const dialog = this.dialog.open(ErrorParserComponent, {\n            width: '750px',\n            height: '450px',\n            data: {\n              errorFromBackendData: error.error,\n              dataMapping: errorMap,\n            },\n          })\n          dialog.afterClosed().subscribe(v => {\n            if (v) {\n              if (typeof v === 'string') {\n                this.storeService.selectedNodeChange.next(\n                  (this.storeService.lexIdMap.get(v) as number[])[0],\n                )\n                this.contentService.changeActiveCont.next(v)\n              } else {\n                this.storeService.selectedNodeChange.next(v)\n                this.contentService.changeActiveCont.next(\n                  this.storeService.uniqueIdMap.get(v) as string,\n                )\n              }\n            }\n          })\n        }\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SAVE_FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      },\n    )\n  }\n\n  closePreview() {\n    this.previewIdentifier = null\n  }\n\n  triggerSave() {\n    const nodesModified: any = {}\n    let isRootPresent = false\n    Object.keys(this.contentService.upDatedContent).forEach(v => {\n      if (!isRootPresent) {\n        isRootPresent = this.storeService.parentNode.includes(v)\n      }\n      nodesModified[v] = {\n        isNew: false,\n        root: this.storeService.parentNode.includes(v),\n        metadata: this.contentService.upDatedContent[v],\n      }\n    })\n    if (!isRootPresent) {\n      nodesModified[this.currentParentId] = {\n        isNew: false,\n        root: true,\n        metadata: {},\n      }\n    }\n    const requestBody: NSApiRequest.IContentUpdate = {\n      nodesModified,\n      hierarchy: this.storeService.changedHierarchy,\n    }\n\n    return this.editorService.updateContentV2(requestBody).pipe(\n      tap(() => {\n        this.storeService.changedHierarchy = {}\n        Object.keys(this.contentService.upDatedContent).forEach(id => {\n          this.contentService.resetOriginalMeta(this.contentService.upDatedContent[id], id)\n        })\n        this.contentService.upDatedContent = {}\n        // window.location.reload()\n      }),\n    )\n  }\n\n  getMessage(type: 'success' | 'failure') {\n    if (type === 'success') {\n      switch (this.contentService.originalContent[this.currentParentId].status) {\n        case 'Draft':\n        case 'Live':\n          return Notify.SEND_FOR_REVIEW_SUCCESS\n        case 'InReview':\n          return Notify.REVIEW_SUCCESS\n        case 'Reviewed':\n          return Notify.PUBLISH_SUCCESS\n        default:\n          return ''\n      }\n    }\n    switch (this.contentService.originalContent[this.currentParentId].status) {\n      case 'Draft':\n      case 'Live':\n        return Notify.SEND_FOR_REVIEW_FAIL\n      case 'InReview':\n        return Notify.REVIEW_FAIL\n      case 'Reviewed':\n        return Notify.PUBLISH_FAIL\n      default:\n        return ''\n    }\n  }\n\n  subAction(event: { type: string; identifier: string, nodeClicked?: boolean }) {\n    // const nodeClicked = event.nodeClicked\n    this.contentService.changeActiveCont.next(event.identifier)\n    switch (event.type) {\n      case 'editMeta':\n        this.viewMode = 'meta'\n        break\n      case 'editContent':\n        if (event.nodeClicked === false) {\n        //  this.save('refresh')\n        }\n\n        const content = this.contentService.getUpdatedMeta(event.identifier)\n        if (['application/pdf', 'application/x-mpegURL'].includes(content.mimeType)) {\n          this.viewMode = 'upload'\n        }  else if (['video/x-youtube', 'application/html'].includes(content.mimeType) && content.fileType === 'link') {\n          this.viewMode = 'curate'\n        } else if (content.mimeType === 'application/html') {\n          this.viewMode = 'upload'\n        } else if (content.mimeType === 'application/quiz') {\n          this.viewMode = 'assessment'\n        } else if (content.mimeType === 'application/web-module') {\n          this.viewMode = 'webmodule'\n        }\n        // this.save()\n        // localStorage.setItem('afterClick', nodeClicked)\n        // if (nodeClicked) {\n        //   window.location.reload()\n        // }\n        // this.routerValuesCall()\n\n        break\n      case 'preview':\n        this.preview(event.identifier)\n        break\n      case 'showAddChapter':\n        this.showAddchapter = false\n    }\n  }\n\n  action(type: string) {\n    switch (type) {\n      case 'next':\n        this.viewMode = 'meta'\n        break\n\n      case 'refresh':\n        window.location.reload()\n        break\n\n      case 'scroll':\n\n        const el = document.getElementById('edit-meta')\n        if (el) {\n          el.scrollIntoView()\n        }\n\n        break\n\n      case 'save':\n        this.save()\n        break\n\n      case 'saveAndNext':\n        this.save('next')\n        break\n\n      case 'preview':\n        this.preview(this.currentContent)\n        break\n\n      case 'push':\n        if (this.getAction() === 'publish') {\n          const dialogRefForPublish = this.dialog.open(ConfirmDialogComponent, {\n            width: '70%',\n            data: 'publishMessage',\n          })\n          dialogRefForPublish.afterClosed().subscribe(result => {\n            if (result) {\n              this.takeAction()\n            }\n          })\n        } else {\n          this.takeAction()\n        }\n        break\n\n      case 'delete':\n        const dialog = this.dialog.open(DeleteDialogComponent, {\n          width: '600px',\n          height: 'auto',\n          data: this.contentService.getUpdatedMeta(this.currentParentId),\n        })\n        dialog.afterClosed().subscribe(confirm => {\n          if (confirm) {\n            this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n            if (this.contents.length) {\n              this.contentService.changeActiveCont.next(this.contents[0].identifier)\n            } else {\n              this.router.navigateByUrl('/author/home')\n            }\n          }\n        })\n        break\n\n      case 'fullscreen':\n        this.fullScreenToggle()\n        break\n\n      case 'close':\n        this.router.navigateByUrl('/author/home')\n        break\n    }\n  }\n\n  delete() {\n    this.loaderService.changeLoad.next(true)\n    this.editorService.deleteContent(this.currentParentId).subscribe(\n      () => {\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.SUCCESS,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n        this.contents = this.contents.filter(v => v.identifier !== this.currentParentId)\n        if (this.contents.length) {\n          this.contentService.changeActiveCont.next(this.contents[0].identifier)\n        } else {\n          this.router.navigateByUrl('/author/home')\n        }\n      },\n      error => {\n        if (error.status === 409) {\n          const errorMap = new Map<string, NSContent.IContentMeta>()\n          Object.keys(this.contentService.originalContent).forEach(v =>\n            errorMap.set(v, this.contentService.originalContent[v]),\n          )\n          const dialog = this.dialog.open(ErrorParserComponent, {\n            width: '750px',\n            height: '450px',\n            data: {\n              errorFromBackendData: error.error,\n              dataMapping: errorMap,\n            },\n          })\n          dialog.afterClosed().subscribe(v => {\n            if (v) {\n              if (typeof v === 'string') {\n                this.storeService.selectedNodeChange.next(\n                  (this.storeService.lexIdMap.get(v) as number[])[0],\n                )\n                this.contentService.changeActiveCont.next(v)\n              } else {\n                this.storeService.selectedNodeChange.next(v)\n                this.contentService.changeActiveCont.next(\n                  this.storeService.uniqueIdMap.get(v) as string,\n                )\n              }\n            }\n          })\n        }\n        this.loaderService.changeLoad.next(false)\n        this.snackBar.openFromComponent(NotificationComponent, {\n          data: {\n            type: Notify.CONTENT_FAIL,\n          },\n          duration: NOTIFICATION_TIME * 1000,\n        })\n      },\n    )\n  }\n\n  fullScreenToggle = () => {\n    const doc: any = document\n    const elm: any = doc.getElementById('auth-toc')\n    if (elm.requestFullscreen) {\n      !doc.fullscreenElement ? elm.requestFullscreen() : doc.exitFullscreen()\n    } else if (elm.mozRequestFullScreen) {\n      !doc.mozFullScreen ? elm.mozRequestFullScreen() : doc.mozCancelFullScreen()\n    } else if (elm.msRequestFullscreen) {\n      !doc.msFullscreenElement ? elm.msRequestFullscreen() : doc.msExitFullscreen()\n    } else if (elm.webkitRequestFullscreen) {\n      !doc.webkitIsFullscreen ? elm.webkitRequestFullscreen() : doc.webkitCancelFullscreen()\n    }\n  }\n\n  getAction(): string {\n    switch (this.contentService.originalContent[this.currentParentId].status) {\n      case 'Draft':\n      case 'Live':\n        return 'sendForReview'\n      case 'InReview':\n        return 'review'\n      case 'Reviewed':\n       const isDraftPresent = this.contentService.resetStatus()\n       /**Change all content as draft, if one of the content is draft status */\n        if (isDraftPresent) {\n          this.contentService.changeStatusDraft()\n          return 'sendForReview'\n        }\n        return 'publish'\n      default:\n        return 'sendForReview'\n    }\n  }\n\n  canDelete() {\n    return (\n      this.accessControlSvc.hasRole(['editor', 'admin']) ||\n      (['Draft', 'Live'].includes(\n        this.contentService.originalContent[this.currentParentId].status,\n      ) &&\n        this.contentService.originalContent[this.currentParentId].creatorContacts.find(\n          v => v.id === this.accessControlSvc.userId,\n        ))\n    )\n  }\n}\n","export default \".app-logo {\\n  max-width: 100px;\\n  max-height: 60px;\\n  border-left: solid 1px;\\n  padding-left: 8px;\\n  margin-left: 10px;\\n}\\n@media only screen and (max-width: 599px) {\\n  .app-logo {\\n    max-width: 80px;\\n    max-height: 30px;\\n  }\\n}\\n.mr-10 {\\n  margin-right: 10px;\\n}\\n.xsmall {\\n  position: absolute;\\n  display: block;\\n  right: 0;\\n}\\n.header-spacer {\\n  flex: 1 1 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9wcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb3Vyc2UtaGVhZGVyL2NvdXJzZS1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJwcm9qZWN0L3dzL2F1dGhvci9zcmMvbGliL3JvdXRpbmcvbW9kdWxlcy9lZGl0b3Ivcm91dGluZy9tb2R1bGVzL2NvbGxlY3Rpb24vY29tcG9uZW50cy9jb3Vyc2UtaGVhZGVyL2NvdXJzZS1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCIvaG9tZS9zb25hc2hhanUvVmlkZW9zL3NwaGVyZS1tb2JpbGUvc3R5bGVzL193cy1taXhpbnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7QUNESjtBQ2FFO0VGakJGO0lBUUksZUFBQTtJQUNBLGdCQUFBO0VDQUY7QUFDRjtBREdBO0VBQ0Usa0JBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0EsUUFBQTtBQ0FGO0FER0E7RUFDRSxjQUFBO0FDQUYiLCJmaWxlIjoicHJvamVjdC93cy9hdXRob3Ivc3JjL2xpYi9yb3V0aW5nL21vZHVsZXMvZWRpdG9yL3JvdXRpbmcvbW9kdWxlcy9jb2xsZWN0aW9uL2NvbXBvbmVudHMvY291cnNlLWhlYWRlci9jb3Vyc2UtaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnc3R5bGVzL193cy1taXhpbnMuc2Nzcyc7XG5cbi5hcHAtbG9nbyB7XG4gIG1heC13aWR0aDogMTAwcHg7XG4gIG1heC1oZWlnaHQ6IDYwcHg7XG4gIGJvcmRlci1sZWZ0OiBzb2xpZCAxcHg7XG4gICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG5cbiAgQGluY2x1ZGUgYnJlYWtwb2ludC14cyB7XG4gICAgbWF4LXdpZHRoOiA4MHB4O1xuICAgIG1heC1oZWlnaHQ6IDMwcHg7XG4gIH1cbn1cblxuLm1yLTEwIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG4ueHNtYWxsIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcmlnaHQ6IDA7XG59XG5cbi5oZWFkZXItc3BhY2VyIHtcbiAgZmxleDogMSAxIGF1dG87XG59IiwiLmFwcC1sb2dvIHtcbiAgbWF4LXdpZHRoOiAxMDBweDtcbiAgbWF4LWhlaWdodDogNjBweDtcbiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDFweDtcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1OTlweCkge1xuICAuYXBwLWxvZ28ge1xuICAgIG1heC13aWR0aDogODBweDtcbiAgICBtYXgtaGVpZ2h0OiAzMHB4O1xuICB9XG59XG5cbi5tci0xMCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLnhzbWFsbCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHJpZ2h0OiAwO1xufVxuXG4uaGVhZGVyLXNwYWNlciB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufSIsIkBpbXBvcnQgJ3N0eWxlcy9fd3MtdmFycy5zY3NzJztcblxuQG1peGluIHJldGluYSB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxuICAgIG9ubHkgc2NyZWVuIGFuZCAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMi8xKSxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxuICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE5MmRwaSksXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMmRwcHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIHByaW50IHtcbiAgQG1lZGlhIG9ubHkgcHJpbnQge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbkBtaXhpbiBicmVha3BvaW50LXhzIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1OTlweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC1zIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkgYW5kIChtYXgtd2lkdGg6IDk1OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LW0ge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk2MHB4KSBhbmQgKG1heC13aWR0aDogMTI3OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWwge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEyODBweCkgYW5kIChtYXgtd2lkdGg6IDE5MTlweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC14bCB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTkyMHB4KSBhbmQgKG1heC13aWR0aDogNTAwMHB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWx0LXMge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWx0LW0ge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk1OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWx0LWwge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyNzlweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC1sdC14bCB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTkxOXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWd0LXhzIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC1ndC1zIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA5NjBweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC1ndC1tIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjgwcHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtZ3QtbCB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTkyMHB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbiJdfQ== */\"","\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core'\nimport { ConfigurationsService } from '@ws-widget/utils/src/public-api'\nimport { SafeUrl, DomSanitizer } from '@angular/platform-browser'\n// import { HeaderServiceService } from './../../../../../../../../../../../../../src/app/services/header-service.service'\nimport { IActionButtonConfig, IActionButton } from '@ws/author/src/lib/interface/action-button'\nimport { CollectionStoreService } from '../../services/store.service'\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'ws-author-course-header',\n  templateUrl: './course-header.component.html',\n  styleUrls: ['./course-header.component.scss'],\n})\nexport class CourseHeaderComponent implements OnInit {\n  appIcon: SafeUrl | null = null\n  courseNameHeader: any\n  @Input() buttonConfig: IActionButtonConfig | null = null\n  @Output() action = new EventEmitter<string>()\n  @Output() subAction = new EventEmitter<{ type: string; identifier: string; nodeClicked?: boolean }>()\n\n  requiredConfig: IActionButton[] = []\n\n  constructor(private configSvc: ConfigurationsService, private domSanitizer: DomSanitizer,\n              // private headerService: HeaderServiceService,\n              private store: CollectionStoreService) {\n                // this.headerService.showCourseHeader.subscribe(data => {\n                //   this.courseNameHeader = data\n                // })\n   }\n\n  ngOnInit() {\n    if (this.configSvc.instanceConfig) {\n       this.domSanitizer.bypassSecurityTrustResourceUrl(\n        this.appIcon = this.configSvc.instanceConfig.logos.app,\n      )\n    }\n\n    if (this.buttonConfig) {\n      this.buttonConfig.buttons.forEach(button => {\n        if (button.event === 'save' || button.event === 'push' || button.title === 'saveAndNext') {\n          this.requiredConfig.push(button)\n        }\n      })\n    }\n  }\n  showCourseSettings() {\n   this.subAction.emit({ type: 'editContent', identifier: this.store.parentNode[0], nodeClicked: true })\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { ICON_TYPE } from '@ws/author/src/lib/constants/icons'\nimport { MIME_TYPE } from '@ws/author/src/lib/constants/mimeType'\nimport { AccessControlService } from '@ws/author/src/lib/modules/shared/services/access-control.service'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { NSContent } from '../../../../../../../interface/content'\nimport { IContentNode, IContentTreeNode } from '../interface/icontent-tree'\nimport { AuthInitService } from './../../../../../../../services/init.service'\n\n@Injectable()\n/**\n * The service which contains the logic to parse the collection hierarch data and produce the\n * respective tree structure or json structure\n */\nexport class CollectionResolverService {\n  // The set to hold the content type for which the lazy loading of children is required\n  lazyLoad = new Set<string>()\n  private _uniqueId = 0\n  constructor(\n    private accessService: AccessControlService,\n    private contentService: EditorContentService,\n    private authInitService: AuthInitService,\n  ) { }\n\n  get uniqueId() {\n    this._uniqueId += 1\n    return Date.now() + this._uniqueId\n  }\n  /**\n   * Restructure the hierarch passed from backend to a map and tree hierarch\n   * which is easy to read and update the meta and tree structure\n   *\n   * @param { NSContent.IContentMeta } content - The hierarchy to be passed\n   * @param { Map } content - The map which is used to read and populate meta data\n   * @param { Map<string, NSContent.IContentMeta> } flatNodeMap - The map which is used to modify change in individual tree structure\n   * @param { Map<number,string> } uniqueIdMap - The map which is used to get unique id against lex id\n   *\n   */\n  buildTreeAndMap(\n    content: NSContent.IContentMeta,\n    map: Map<string, NSContent.IContentMeta>,\n    flatNodeMap: Map<number, IContentNode>,\n    uniqueIdMap: Map<number, string>,\n    lexIdMap: Map<string, number[]>,\n  ): IContentNode {\n    /**\n     * Recursive function which actually do the work\n     *\n     * @param { NSContent.IContentMeta } currContent - The hierarchy to be passed\n     * @param { string[] } parentList - The parent lex ids in the hierarchy in the order of top to bottom\n     * @param { boolean } editable - Whether the user have access to change the parent hierarch or not\n     * @returns { IContentNode } the restructured hierarch data to load in tree\n     */\n    const recursiveFn = (\n      currContent: NSContent.IContentMeta,\n      parentId: number | undefined = undefined,\n      editable = true,\n    ): IContentNode => {\n      const treeStructure: IContentNode = {\n        editable,\n        parentId,\n        id: this.uniqueId,\n        identifier: currContent.identifier,\n        category: this.getCategory(currContent),\n        childLoaded: !this.lazyLoad.has(this.getCategory(currContent)),\n        children: [],\n      }\n      map.set(currContent.identifier, currContent)\n      uniqueIdMap.set(treeStructure.id, currContent.identifier)\n      const uniqueIds = lexIdMap.get(treeStructure.identifier)\n      if (uniqueIds) {\n        uniqueIds.push(treeStructure.id)\n      } else {\n        lexIdMap.set(treeStructure.identifier, [treeStructure.id])\n      }\n      /**\n       * Checking the user have access or not\n       */\n      const haveAccessToChangeStructure = this.hasAccess(currContent)\n      if (treeStructure.childLoaded && treeStructure.children) {\n        const children: IContentNode[] = []\n        currContent.children.forEach(v =>\n          children.push(recursiveFn(v, treeStructure.id, haveAccessToChangeStructure)),\n        )\n        treeStructure.children = children\n      }\n      flatNodeMap.set(treeStructure.id, treeStructure)\n      return treeStructure\n    }\n\n    return recursiveFn(content)\n  }\n\n  getFlatHierarchy(\n    id: number,\n    flatNodeMap: Map<number, IContentNode>,\n    rightPermission = true,\n  ): number[] {\n    const returnValue: number[] = []\n    const recursiveFunction = (currId: number) => {\n      returnValue.push(currId)\n      const node = flatNodeMap.get(currId) as IContentNode\n      if ((rightPermission && node.editable) || !rightPermission) {\n        const children = node.children || []\n        children.map(v => recursiveFunction(v.id))\n      }\n    }\n    recursiveFunction(id)\n    return returnValue\n  }\n\n  /**\n   * Since the category is not populated for old content to make it backward compatible\n   * we are checking the category first if it is not present we are sending the contentType\n   *\n   * @param { NSContent.IContentMeta } content - The content for which we need to get category\n   * @returns { string } The category\n   */\n  private getCategory(content: NSContent.IContentMeta): string {\n    return content.category || content.contentType\n  }\n\n  /**\n   * Since the categoryType is not populated for old content to make it backward compatible\n   * we are checking the categoryType first if it is not present we are checking the contentType\n   * and based on contentType we select resourceType or courseType\n   *\n   * @param { NSContent.IContentMeta } content - The content for which we need to get category\n   * @returns { string } The category type\n   */\n  getCategoryType(content: NSContent.IContentMeta): string {\n    switch (this.getCategory(content)) {\n      case 'Collection':\n        return ''\n      default:\n        return ''\n    }\n  }\n\n  /**\n   * To get the respective Mat icon mapping for the each contents\n   * For different resources we need different types of icons\n   *\n   * @param { NSContent.IContentMeta } content - The content for which we need to get category\n   * @returns { string } The mat icon to be displayed\n   */\n  getIcon(content: NSContent.IContentMeta): string {\n    if (content.mimeType === MIME_TYPE.collection) {\n      if (content.contentType === 'Learning Path') {\n        return ICON_TYPE.program\n      }\n      if (content.contentType === 'Course') {\n        return ICON_TYPE.course\n      }\n      return ICON_TYPE.learningModule\n    }\n    if (content.mimeType === MIME_TYPE.html) {\n      if (content.resourceType === 'Certification') {\n        return ICON_TYPE.certificate\n      }\n      if (content.isExternal) {\n        return ICON_TYPE.externalContent\n      }\n      return ICON_TYPE.internalContent\n    }\n    if (content.mimeType === MIME_TYPE.pdf) {\n      if (!content.artifactUrl) {\n        return ICON_TYPE.emptyFile\n      }\n      return ICON_TYPE.pdf\n    }\n    if (content.mimeType === MIME_TYPE.youtube) {\n      return ICON_TYPE.youtube\n    }\n    if (content.mimeType === MIME_TYPE.quiz) {\n      if (content.resourceType === 'Assessment') {\n        return ICON_TYPE.assessment\n      }\n      return ICON_TYPE.quiz\n    }\n    if (content.mimeType === MIME_TYPE.dragDrop) {\n      return ICON_TYPE.dragNDrop\n    }\n    if (content.mimeType === MIME_TYPE.htmlPicker) {\n      return ICON_TYPE.htmlPicker\n    }\n    if (content.mimeType === MIME_TYPE.webModule) {\n      return ICON_TYPE.internalContent\n    }\n    if (content.mimeType === MIME_TYPE.handson) {\n      return ICON_TYPE.handsOn\n    }\n    if (content.mimeType === MIME_TYPE.iap) {\n      return ICON_TYPE.iap\n    }\n    if (content.mimeType === MIME_TYPE.mp3) {\n      return ICON_TYPE.audio\n    }\n    if (content.mimeType === MIME_TYPE.mp4) {\n      return ICON_TYPE.video\n    }\n    if (content.contentType === 'Collection') {\n      return ICON_TYPE.learningModule\n    }\n    return ICON_TYPE.default\n  }\n\n  /**\n   * To get to know the user access to change the hierarchy structure or not\n   * Respective role have different access on different status of the content.\n   * @param { NSContent.IContentMeta } content - The content for which we need to get category\n   * @returns { boolean } The mat icon to be displayed\n   */\n  hasAccess(content: NSContent.IContentMeta, parentMeta?: NSContent.IContentMeta): boolean {\n    return this.contentService.hasAccess(content, false, parentMeta) &&\n      content.status === 'InReview'\n      ? this.authInitService.collectionConfig.enabledRole.includes('reviewer')\n      : content.status === 'Reviewed'\n        ? this.authInitService.collectionConfig.enabledRole.includes('publisher')\n        : ['Draft', 'Live'].includes(content.status)\n          ? this.authInitService.collectionConfig.enabledRole.includes('author')\n          : this.accessService.hasRole(['admin'])\n  }\n\n  /**\n   * To know whether the drop of one node is allowed based max depth logic\n   * @param { IContentTreeNode } dropNode - The node for which depth needs to be checked\n   * @param { IContentTreeNode } dragNode - The node for which depth needs to be checked\n   * @param { number } maxDepth - Maximum depth allowed in the configuration\n   * @returns { boolean } The mat icon to be displayed\n   */\n  allowMaxDepth(\n    _dropNode: IContentTreeNode,\n    _dragNode: IContentTreeNode,\n    _maxDepth: number,\n  ): boolean {\n    return true\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { LoggerService } from '@ws-widget/utils'\nimport { DEPTH_RUE } from '@ws/author/src/lib/constants/depth-rule'\nimport { IAllowedType } from '@ws/author/src/lib/interface/collection-child-config'\nimport { NSContent } from '@ws/author/src/lib/interface/content'\nimport { ICreateEntity } from '@ws/author/src/lib/interface/create-entity'\nimport { EditorContentService } from '@ws/author/src/lib/routing/modules/editor/services/editor-content.service'\nimport { EditorService } from '@ws/author/src/lib/routing/modules/editor/services/editor.service'\nimport { AuthInitService } from '@ws/author/src/lib/services/init.service'\nimport { BehaviorSubject, ReplaySubject } from 'rxjs'\nimport { IContentNode, IContentTreeNode } from './../interface/icontent-tree'\nimport { CollectionResolverService } from './resolver.service'\n\ninterface IProcessedError {\n  id: string | number\n  name: string\n  message: string[]\n}\n@Injectable()\nexport class CollectionStoreService {\n  parentNode: string[] = []\n  invalidIds: number[] = []\n\n  onInvalidNodeChange = new ReplaySubject<number[]>()\n  /**\n   * Map from flat node to nested node. This helps us finding the nested node to be modified\n   */\n  flatNodeMap = new Map<number, IContentNode>()\n\n  /**\n   * Map for unique id and lex id. This helps us finding the lex id of the node\n   */\n  uniqueIdMap = new Map<number, string>()\n\n  /**\n   * Map for Lex id with unique id. This helps us tracking the change\n   */\n  lexIdMap = new Map<string, number[]>()\n\n  changedHierarchy: any = {}\n\n  currentParentNode!: number\n  currentSelectedNode!: number\n\n  constructor(\n    private contentService: EditorContentService,\n    private editorService: EditorService,\n    private resolver: CollectionResolverService,\n    private authInitService: AuthInitService,\n    private logger: LoggerService,\n  ) {}\n\n  treeStructureChange = new BehaviorSubject<IContentNode | null>(null)\n  selectedNodeChange = new BehaviorSubject<number | null>(null)\n  get selectedNode() {\n    return this.selectedNodeChange.value\n  }\n\n  allowDrop(dragNode: IContentTreeNode, dropNode: IContentTreeNode): boolean {\n    let allow = true\n    if (!dragNode.editable || !dropNode.editable) {\n      allow = false\n    } else if (!this.authInitService.collectionConfig.childrenConfig[dropNode.category]) {\n      allow = false\n    } else if (\n      !this.resolver.hasAccess(\n        this.contentService.getUpdatedMeta(dropNode.identifier),\n        dropNode.parentId\n          ? this.contentService.getUpdatedMeta(\n              (this.flatNodeMap.get(dropNode.parentId) as IContentNode).identifier,\n            )\n          : undefined,\n      )\n    ) {\n      allow = false\n    } else if (\n      this.authInitService.collectionConfig.maxDepth <=\n      dropNode.level + DEPTH_RUE[dragNode.category]\n    ) {\n      allow = false\n    }\n    return allow\n  }\n\n  dragAndDrop(\n    dragNode: IContentTreeNode | IContentNode,\n    dropNode: IContentTreeNode,\n    adjacentId?: number,\n    dropLocation: 'above' | 'below' = 'below',\n    emitChange = true,\n  ) {\n    const oldParentNode = dragNode.parentId ? this.flatNodeMap.get(dragNode.parentId) : undefined\n    const newParentNode = this.flatNodeMap.get(dropNode.id) as IContentNode\n    const oldParentChildList = oldParentNode ? (oldParentNode.children as IContentNode[]) : []\n    const newParentChildList = newParentNode.children as IContentNode[]\n    oldParentChildList.splice(\n      oldParentChildList.findIndex(v => v.id === dragNode.id),\n      1,\n    )\n    const childNode = this.flatNodeMap.get(dragNode.id) as IContentNode\n    childNode.parentId = dropNode.id\n    if (adjacentId) {\n      const dropPosition =\n        (dropNode.children || []).indexOf(adjacentId) + (dropLocation === 'above' ? -1 : 1)\n      const children = newParentNode.children as IContentNode[]\n      children.splice(dropPosition, 0, childNode)\n    } else {\n      if (newParentChildList) {\n        newParentChildList.push(childNode)\n      } else {\n        newParentNode.children = [childNode]\n      }\n    }\n    if (oldParentNode) {\n      this.changedHierarchy[oldParentNode.identifier] = {\n        root: this.parentNode.includes(oldParentNode.identifier),\n        children: oldParentChildList.map(v => {\n          const child = {\n            identifier: v.identifier,\n            reasonAdded: 'Added from Authoring Tool',\n            childrenClassifiers: [],\n          }\n          return child\n        }),\n      }\n    }\n    this.changedHierarchy[newParentNode.identifier] = {\n      root: this.parentNode.includes(newParentNode.identifier),\n      children: newParentChildList.map(v => {\n        const child = {\n          identifier: v.identifier,\n          reasonAdded: 'Added from Authoring Tool',\n          childrenClassifiers: [],\n        }\n        return child\n      }),\n    }\n    if (emitChange) {\n      this.treeStructureChange.next(this.treeStructureChange.value)\n    }\n  }\n\n  async addChildOrSibling(\n    ids: string[],\n    dropNode: IContentTreeNode,\n    adjacentId?: number,\n    dropLocation: 'above' | 'below' = 'below',\n  ): Promise<boolean> {\n    try {\n      const contents = await this.editorService.readMultipleContent(ids).toPromise()\n      const contentDataMap = new Map<string, NSContent.IContentMeta>()\n      contents.map((v, index) => {\n        this.contentService.setOriginalMeta(v)\n        const treeStructure = this.resolver.buildTreeAndMap(\n          v,\n          contentDataMap,\n          this.flatNodeMap,\n          this.uniqueIdMap,\n          this.lexIdMap,\n        )\n        this.dragAndDrop(\n          treeStructure,\n          dropNode,\n          adjacentId,\n          dropLocation,\n          index === ids.length - 1,\n        )\n      })\n      return true\n    } catch (ex) {\n      this.logger.error(ex)\n      return false\n    }\n  }\n\n  async createChildOrSibling(\n    type: string,\n    dropNode: IContentTreeNode,\n    adjacentId?: number,\n    dropLocation: 'above' | 'below' = 'below',\n    topicObj?: any,\n    fileType?: string\n  ): Promise<boolean> {\n    try {\n      const meta = this.authInitService.creationEntity.get(type) as ICreateEntity\n      const parentData = this.contentService.parentUpdatedMeta()\n      const requestBody = {\n        name: topicObj ? topicObj.topicName : 'New Content',\n        description: topicObj ? topicObj.topicDescription : '',\n        mimeType: meta.mimeType,\n        contentType: meta.contentType,\n        resourceType: parentData.categoryType || '',\n        categoryType : parentData.categoryType || '',\n        fileType : fileType || '',\n\n        // thumbnail: parentData.thumbnail,\n        // appIcon: parentData.appIcon,\n        posterImage: parentData.posterImage,\n        sourceName: parentData.sourceName,\n        subTitle: parentData.subTitle,\n        body: parentData.body,\n     //   sourceName : parentData.sourceName,\n\n        locale:\n          // tslint:disable-next-line: ter-computed-property-spacing\n          this.contentService.originalContent[\n            (this.flatNodeMap.get(this.currentParentNode) as IContentNode).identifier\n            // tslint:disable-next-line: ter-computed-property-spacing\n          ].locale || 'en',\n        ...(meta.additionalMeta || {}),\n      }\n      // requestBody.posterImage = parentData.posterImage\n      // requestBody.sourceName = parentData.sourceName\n      // requestBody.subTitle = parentData.subTitle\n      // requestBody.body = parentData.body\n      // requestBody.categoryType = parentData.categoryType\n\n      const content = await this.editorService.createAndReadContent(requestBody).toPromise()\n      // if (content) {\n      //  // content.thumbnail = parentData.thumbnail\n      //  // content.appIcon = parentData.appIcon\n\n      // }\n      this.contentService.setOriginalMeta(content)\n      const contentDataMap = new Map<string, NSContent.IContentMeta>()\n      const treeStructure = this.resolver.buildTreeAndMap(\n        content,\n        contentDataMap,\n        this.flatNodeMap,\n        this.uniqueIdMap,\n        this.lexIdMap,\n      )\n      this.dragAndDrop(treeStructure, dropNode, adjacentId, dropLocation)\n      return true\n    } catch (ex) {\n      this.logger.error(ex)\n      return false\n    }\n  }\n\n  deleteNode(id: number) {\n    const deleteIds = this.resolver.getFlatHierarchy(id, this.flatNodeMap, false)\n    const node = this.flatNodeMap.get(id) as IContentNode\n    const parentNode = node.parentId ? this.flatNodeMap.get(node.parentId) : undefined\n\n    deleteIds.forEach(v => {\n      this.flatNodeMap.delete(v)\n      const lexId = this.uniqueIdMap.get(v) as string\n      this.uniqueIdMap.delete(v)\n      const uniqueIds = this.lexIdMap.get(lexId) as number[]\n      if (uniqueIds.length > 1) {\n        uniqueIds.splice(\n          uniqueIds.findIndex(currId => v === currId),\n          1,\n        )\n      } else {\n        this.lexIdMap.delete(lexId)\n        delete this.contentService.originalContent[lexId]\n        delete this.contentService.upDatedContent[lexId]\n        delete this.changedHierarchy[lexId]\n      }\n    })\n\n    if (parentNode) {\n      const children = parentNode.children || []\n      children.splice(\n        children.findIndex(v => v.id === id),\n        1,\n      )\n\n      this.changedHierarchy[parentNode.identifier] = {\n        root: this.parentNode.includes(parentNode.identifier),\n        children: children.map(v => {\n          const child = {\n            identifier: v.identifier,\n            reasonAdded: 'Added from Authoring Tool',\n            childrenClassifiers: [],\n          }\n          return child\n        }),\n      }\n    }\n    this.treeStructureChange.next(this.treeStructureChange.value)\n  }\n\n  cascadeDown(id: number, value: any, field: string, single = false): boolean {\n    const dependantIds = this.resolver.getFlatHierarchy(id, this.flatNodeMap, true)\n    if (dependantIds.length <= 1) {\n      return false\n    }\n    dependantIds\n      .filter(v => v !== id)\n      .forEach(v => {\n        const lexId = this.uniqueIdMap.get(v) as string\n        if (single) {\n          // tslint:disable-next-line: ter-computed-property-spacing\n          let meta = this.contentService.getUpdatedMeta(lexId)[\n            field as keyof NSContent.IContentMeta\n            // tslint:disable-next-line: ter-computed-property-spacing\n          ]\n          if (meta) {\n            meta.push(value)\n          } else {\n            meta = [value]\n          }\n          this.contentService.setUpdatedMeta(\n            ({ field: meta } as unknown) as NSContent.IContentMeta,\n            lexId,\n          )\n        } else {\n          this.contentService.setUpdatedMeta(\n            ({ field: value } as unknown) as NSContent.IContentMeta,\n            lexId,\n          )\n        }\n      })\n    return true\n  }\n\n  validationCheck(id: number): IProcessedError[] | null {\n    const returnValue: Map<number, IProcessedError> = new Map<number, IProcessedError>()\n    const errorIds = new Set<number>()\n    const hierarchy = this.resolver.getFlatHierarchy(id, this.flatNodeMap)\n    this.metaValidationCheck(hierarchy, errorIds, returnValue)\n    this.hierarchyStructureCheck(hierarchy, errorIds, returnValue)\n    this.onInvalidNodeChange.next(Array.from(errorIds))\n    return returnValue.size ? Array.from(returnValue.values()) : null\n  }\n\n  hierarchyStructureCheck(\n    ids: number[],\n    errorId: Set<number>,\n    errorMap: Map<number, IProcessedError>,\n  ) {\n    ids.forEach(v => {\n      const contentNode = this.flatNodeMap.get(v) as IContentNode\n      const category = contentNode.category as any\n      const childConfig = this.authInitService.collectionConfig.childrenConfig[category]\n      const errorMsg: string[] = []\n      const lexId = this.uniqueIdMap.get(v) as string\n      const content = this.contentService.getUpdatedMeta(lexId)\n\n      let currNode = contentNode\n      let currentLevel = 0\n      while (currNode.parentId) {\n        currentLevel = currentLevel + 1\n        currNode = this.flatNodeMap.get(currNode.parentId) as IContentNode\n      }\n      const excessLevel =\n        DEPTH_RUE[contentNode.category] +\n        currentLevel -\n        this.authInitService.collectionConfig.maxDepth\n      if (excessLevel > 0) {\n        errorMsg.push(\n          `Breached maximum level of depth allowed. It should be ${excessLevel} level above`,\n        )\n      }\n\n      if (childConfig) {\n        const allowedTypes = childConfig.childTypes\n        const childTypeMap: number[] = allowedTypes.map(() => 0)\n        const children = contentNode.children || []\n        if (childConfig.minChildren && children.length < childConfig.minChildren) {\n          errorMsg.push(\n            `Minimum ${childConfig.minChildren} children is required. But ${\n              children.length ? children.length : 'nothing'\n            } present`,\n          )\n        }\n        if (childConfig.maxChildren && children.length > childConfig.maxChildren) {\n          errorMsg.push(\n            `Maximum ${childConfig.minChildren} children is allowed. But ${children.length} present`,\n          )\n        }\n        children.forEach((child: IContentNode, position: number) => {\n          const childContent = this.contentService.getUpdatedMeta(child.identifier)\n          let canPresent = false\n          allowedTypes.forEach((element: IAllowedType, index: number) => {\n            const canAllow = this.contentService.checkConditionV2(childContent, element.conditions)\n            if (canAllow) {\n              canPresent = true\n              childTypeMap[index] = childTypeMap[index] + 1\n              if (position) {\n                return\n              }\n              // if (element.position === 'n' && position !== children.length - 1) {\n              //   let isSameChild = true\n              //   children.slice(position).forEach(sibling => {\n              //     const siblingChild = this.contentService.getUpdatedMeta(sibling.identifier)\n              //     isSameChild = this.contentService.checkConditionV2(\n              //       siblingChild,\n              //       element.conditions,\n              //     )\n              //     // if (!isSameChild) {\n              //     //   errorMsg.push(`${childContent.name || 'Untitled Content'} should be last child`)\n              //     //   return\n              //     // }\n              //   })\n              // }\n              return\n            }\n          })\n          if (!canPresent) {\n            errorMsg.push(`${childContent.name || 'Untitled Content'} is not allowed to add here`)\n          }\n        })\n        allowedTypes.forEach((type: IAllowedType, index: number) => {\n          if (type.minimum && childTypeMap[index] < type.minimum) {\n            errorMsg.push(\n              `Minimum ${type.minimum} contents of type ${this.formStringFromCondition(\n                type.conditions,\n              )} is required. But only ${childTypeMap[index]} is present`,\n            )\n          }\n          if (type.maximum && type.maximum < childTypeMap[index]) {\n            errorMsg.push(\n              `Maximum ${type.maximum} contents of type ${this.formStringFromCondition(\n                type.conditions,\n              )} is allowed. But ${childTypeMap[index]} is present`,\n            )\n          }\n        })\n      } else if (contentNode.children && contentNode.children.length) {\n        errorMsg.push(`Should not contain any child. But ${contentNode.children.length} were added`)\n      }\n      this.populateErrorMsg(v, errorMsg, content, errorId, errorMap)\n    })\n  }\n\n  formStringFromCondition(condition: any): string {\n    let returnValue = ''\n    if (condition.fit) {\n      condition.fit.forEach((subCondition: any, majorIndex: number) => {\n        Object.keys(subCondition).forEach((v: any, index: number) => {\n          returnValue = `${returnValue}${majorIndex > 0 ? ' or ' : ''}${\n            index > 0 ? ' ' : ''\n          }${v} in ${subCondition[v].join(' or ')}`\n        })\n      })\n    }\n    return returnValue\n  }\n\n  metaValidationCheck(ids: number[], errorId: Set<number>, errorMap: Map<number, IProcessedError>) {\n    ids.forEach(v => {\n      const errorMsg: string[] = []\n      const lexId = this.uniqueIdMap.get(v) as string\n      const content = this.contentService.getUpdatedMeta(lexId)\n      if (!this.contentService.isValid(lexId)) {\n        errorMsg.push('Mandatory fields are missing')\n      }\n\n      if (content.category === 'Resource') {\n        if (content.mimeType === 'application/html' && !content.artifactUrl && !content.body) {\n          errorMsg.push('Provide URL or populate \"Body\" field')\n        } else if (\n          ['application/pdf', 'application/x-mpegURL'].includes(content.mimeType) &&\n          !content.artifactUrl\n        ) {\n          errorMsg.push('Upload file')\n        }\n      }\n      this.populateErrorMsg(v, errorMsg, content, errorId, errorMap)\n    })\n  }\n\n  populateErrorMsg(\n    id: number,\n    errorMsg: string[],\n    content: NSContent.IContentMeta,\n    errorId: Set<number>,\n    errorMap: Map<number, IProcessedError>,\n  ) {\n    if (errorMsg.length) {\n      errorId.add(id)\n      if (errorMap.has(id)) {\n        // tslint:disable-next-line: semicolon    // tslint:disable-next-line: whitespace\n        ;(errorMap.get(id) as IProcessedError).message = (errorMap.get(\n          id,\n        ) as IProcessedError).message.concat(errorMsg)\n      } else {\n        errorMap.set(id, {\n          id,\n          name: content.name || 'Untitled Content',\n          message: errorMsg,\n        })\n      }\n    }\n  }\n}\n"],"sourceRoot":"webpack:///","file":"routing-modules-collection-collection-module-es5.js"}