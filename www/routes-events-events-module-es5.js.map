{"version":3,"sources":["project/ws/app/src/lib/routes/infy/routes/events/live-events/live-events.component.html","project/ws/app/src/lib/routes/infy/routes/events/events-routing.module.ts","project/ws/app/src/lib/routes/infy/routes/events/events.module.ts","project/ws/app/src/lib/routes/infy/routes/events/live-events/live-events.component.scss","project/ws/app/src/lib/routes/infy/routes/events/live-events/live-events.component.ts","project/ws/app/src/lib/routes/infy/routes/events/services/events.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<mat-toolbar class=\\\"ws-mat-light-background\\\" [ngStyle]=\\\"configSvc?.pageNavBar?.styles\\\">\\n  <ws-widget-btn-page-back [widgetData]=\\\"{ url: '/app/features' }\\\"></ws-widget-btn-page-back>\\n  <span class=\\\"margin-left-s\\\" i18n>Events</span>\\n  <span class=\\\"spacer\\\"></span>\\n  <span class=\\\"spacer\\\"></span>\\n  <a *ngIf=\\\"!isLiveStream && urlHasLiveUrl\\\" type=\\\"button\\\" mat-button [href]=\\\"liveUrl\\\" target=\\\"_blank\\\">Open\\n    in New Tab</a>\\n</mat-toolbar>\\n\\n<ng-container>\\n  <div class=\\\"events-container\\\">\\n    <div class=\\\"margin-top-m margin-bottom-l text-center\\\" *ngIf=\\\"!urlHasLiveUrl\\\">\\n      <h2 *ngIf=\\\"isLiveStream && fetchStatus === 'done'\\\" class=\\\"mat-h2\\\" i18n>\\n        LIVE streaming will be on only during the event.\\n      </h2>\\n      <h2 *ngIf=\\\"!isLiveStream && fetchStatus === 'done' && !liveEvents.length\\\" class=\\\"mat-h2 text-center\\\" i18n>\\n        No LIVE event at the moment.\\n      </h2>\\n      <h2 *ngIf=\\\"!isLiveStream && fetchStatus === 'fetching'\\\" class=\\\"mat-h2 text-center\\\" i18n>\\n        Checking for LIVE events...\\n      </h2>\\n      <mat-card *ngIf=\\\"!isLiveStreamMobile\\\" class=\\\"margin-top-m margin-bottom-m\\\">\\n        <div class=\\\"position-relative\\\">\\n          <h2 class=\\\"text-center\\\">\\n            App Live Streaming\\n            <span class=\\\"beta-badge mat-primary-text\\\" i18n>Beta</span>\\n          </h2>\\n        </div>\\n        <mat-accordion>\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title i18n>\\n                Live\\n              </mat-panel-title>\\n            </mat-expansion-panel-header>\\n            <a [routerLink]=\\\"'/viewer/lex_auth_0127271733829632009'\\\" color=\\\"primary\\\" mat-raised-button i18n>Watch</a>\\n            <button *ngIf=\\\"mobileAppsSvc.isAndroidApp\\\" type=\\\"button\\\" class=\\\"margin-left-m\\\" mat-raised-button i18n>\\n              Go Live\\n            </button>\\n          </mat-expansion-panel>\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title i18n>\\n                Classroom Broadcast\\n              </mat-panel-title>\\n            </mat-expansion-panel-header>\\n            <a [routerLink]=\\\"'/viewer/lex_auth_0126128852332052481032'\\\" color=\\\"primary\\\" mat-raised-button i18n>Watch</a>\\n            <button *ngIf=\\\"mobileAppsSvc.isAndroidApp\\\" type=\\\"button\\\" class=\\\"margin-left-m\\\" mat-raised-button i18n>\\n              Go Live\\n            </button>\\n          </mat-expansion-panel>\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title i18n>\\n                360 video\\n              </mat-panel-title>\\n            </mat-expansion-panel-header>\\n            <a [routerLink]=\\\"'/viewer/lex_auth_01272703404378521670'\\\" mat-raised-button color=\\\"primary\\\" i18n>Watch</a>\\n          </mat-expansion-panel>\\n        </mat-accordion>\\n      </mat-card>\\n      <div class=\\\"flex flex-between flex-wrapped\\\" *ngIf=\\\"!isLiveStream && !urlHasLiveUrl\\\">\\n        <mat-card *ngFor=\\\"let event of liveEvents\\\" class=\\\"live-card\\\">\\n          <a [routerLink]=\\\"'/app/infy/events'\\\" [queryParams]=\\\"{ liveUrl: event.event_url }\\\">\\n            <h2 class=\\\"mat-h2\\\">{{ event.event_name }}</h2>\\n            <div>\\n              <ng-container [ngTemplateOutlet]=\\\"startTime\\\" [ngTemplateOutletContext]=\\\"{ $implicit: event }\\\">\\n              </ng-container>\\n            </div>\\n            <div>\\n              <ng-container [ngTemplateOutlet]=\\\"endTime\\\" [ngTemplateOutletContext]=\\\"{ $implicit: event }\\\">\\n              </ng-container>\\n            </div>\\n          </a>\\n        </mat-card>\\n      </div>\\n    </div>\\n    <mat-card *ngIf=\\\"showIframeSupportWarning && !isLiveStream && urlHasLiveUrl\\\">\\n      <mat-card-content>\\n        <h2 class=\\\"mat-h2\\\" i18n>\\n          If facing issues in video, please click 'Open in new tab' above\\n        </h2>\\n        <mat-divider></mat-divider>\\n        <div class=\\\"text-center padding-top-s\\\">\\n          <button type=\\\"button\\\" mat-button (click)=\\\"showIframeSupportWarning = false\\\">\\n            Dismiss\\n          </button>\\n        </div>\\n      </mat-card-content>\\n    </mat-card>\\n    <div class=\\\"live-event-container\\\" *ngIf=\\\"!isLiveStream && urlHasLiveUrl\\\">\\n      <iframe i18n-title title=\\\"live event\\\" allow=\\\"fullscreen\\\" class=\\\"live-event\\\" [src]=\\\"safeLiveUrl\\\"></iframe>\\n    </div>\\n  </div>\\n  <!-- <div *ngIf=\\\"events\\\" class=\\\"text-center margin-top-m margin-bottom-m\\\">\\n    <h2 class=\\\"mat-h2\\\" i18n>Events:</h2>\\n    <a\\n      class=\\\"margin-right-m margin-top-m\\\"\\n      mat-stroked-button\\n      *ngFor=\\\"let event of events | keyvalue\\\"\\n      [color]=\\\"'primary'\\\"\\n      [routerLink]=\\\"'/events/' + event.key\\\"\\n    >\\n      {{ event.value.title }}\\n    </a>\\n  </div> -->\\n\\n  <!-- Templates -->\\n  <ng-template #startTime let-event>\\n    <span class=\\\"mat-body-strong\\\">\\n      <ng-container *ngIf=\\\"isCurrentTimeSmall(event.start_time); else eventStarted\\\" i18n>Starts: </ng-container>\\n      <ng-template #eventStarted i18n>Started: </ng-template>\\n    </span>\\n    <span class=\\\"mat-body date-value\\\">{{ event.start_time | date: \\\"d MMM, yyyy HH:mm a\\\" }}</span>\\n  </ng-template>\\n\\n  <ng-template #endTime let-event>\\n    <span class=\\\"mat-body-strong\\\">\\n      <ng-container *ngIf=\\\"isCurrentTimeSmall(event.end_time); else eventEnded\\\" i18n>Ends: </ng-container>\\n      <ng-template #eventEnded i18n>Ended: </ng-template>\\n    </span>\\n    <span class=\\\"mat-body date-value\\\">{{ event.end_time | date: \\\"d MMM, yyyy HH:mm a\\\" }}</span>\\n  </ng-template>\\n\\n  <input type=\\\"hidden\\\" i18n-value value=\\\"Please update your app to use this feature.\\\" #appOutdated />\\n</ng-container>\\n\"","import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\nimport { LiveEventsComponent } from './live-events/live-events.component'\n\nconst routes: Routes = [\n  {\n    path: '',\n    pathMatch: 'full',\n    component: LiveEventsComponent,\n  },\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventsRoutingModule { }\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\n\nimport { EventsRoutingModule } from './events-routing.module'\nimport { LiveEventsComponent } from './live-events/live-events.component'\n\n// material\nimport { MatToolbarModule } from '@angular/material/toolbar'\nimport { MatIconModule } from '@angular/material/icon'\nimport { MatButtonModule } from '@angular/material/button'\nimport { MatCardModule } from '@angular/material/card'\nimport { MatDividerModule } from '@angular/material/divider'\nimport { MatExpansionModule, MatSnackBarModule } from '@angular/material'\nimport { WidgetResolverModule } from '@ws-widget/resolver'\nimport { BtnPageBackModule } from '@ws-widget/collection'\n\n@NgModule({\n  declarations: [LiveEventsComponent],\n  imports: [\n    CommonModule,\n    EventsRoutingModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatButtonModule,\n    MatCardModule,\n    MatDividerModule,\n    MatExpansionModule,\n    MatSnackBarModule,\n    WidgetResolverModule,\n    BtnPageBackModule,\n  ],\n})\nexport class EventsModule {}\n","export default \"@media only screen and (max-width: 599px) {\\n  .events-container {\\n    padding: 0 0 16px 0;\\n  }\\n}\\n@media only screen and (min-width: 600px) {\\n  .events-container {\\n    padding: 0 48px;\\n  }\\n}\\n.events-container .live-event-container {\\n  height: calc(100vh - 2 * 64px);\\n}\\n.events-container .live-event-container .live-event {\\n  max-width: 160vh;\\n  max-height: calc(100vh - 64px);\\n  width: 100%;\\n  height: 100%;\\n  display: block;\\n  margin: auto;\\n}\\n.beta-badge {\\n  position: absolute;\\n  top: -12px;\\n  font-size: 16px;\\n  padding: 4px 16px;\\n}\\n.go-live {\\n  position: absolute;\\n  top: 8px;\\n  right: 8px;\\n}\\n.live-card {\\n  width: 48%;\\n  box-sizing: border-box;\\n  margin-bottom: 12px;\\n}\\n@media only screen and (max-width: 599px) {\\n  .live-card {\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9zdHlsZXMvX3dzLW1peGlucy5zY3NzIiwiL2hvbWUvc29uYXNoYWp1L1ZpZGVvcy9zcGhlcmUtbW9iaWxlL3Byb2plY3Qvd3MvYXBwL3NyYy9saWIvcm91dGVzL2luZnkvcm91dGVzL2V2ZW50cy9saXZlLWV2ZW50cy9saXZlLWV2ZW50cy5jb21wb25lbnQuc2NzcyIsInByb2plY3Qvd3MvYXBwL3NyYy9saWIvcm91dGVzL2luZnkvcm91dGVzL2V2ZW50cy9saXZlLWV2ZW50cy9saXZlLWV2ZW50cy5jb21wb25lbnQuc2NzcyIsIi9ob21lL3NvbmFzaGFqdS9WaWRlb3Mvc3BoZXJlLW1vYmlsZS9zdHlsZXMvX3dzLXZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQkU7RUNoQkY7SUFJSSxtQkFBQTtFQ0pGO0FBQ0Y7QUY0REU7RUM3REY7SUFRSSxlQUFBO0VDSEY7QUFDRjtBREtFO0VBQ0UsOEJBQUE7QUNISjtBREtJO0VBQ0UsZ0JBQUE7RUFDQSw4QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUNITjtBRFFBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsZUVwQk87RUZxQlAsaUJBQUE7QUNMRjtBRFFBO0VBQ0Usa0JBQUE7RUFDQSxRRTVCUTtFRjZCUixVRTdCUTtBRHdCVjtBRFFBO0VBQ0UsVUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJFbENPO0FENkJUO0FGcEJFO0VDNkJBO0lBQ0UsV0FBQTtFQ0xGO0FBQ0YiLCJmaWxlIjoicHJvamVjdC93cy9hcHAvc3JjL2xpYi9yb3V0ZXMvaW5meS9yb3V0ZXMvZXZlbnRzL2xpdmUtZXZlbnRzL2xpdmUtZXZlbnRzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnc3R5bGVzL193cy12YXJzLnNjc3MnO1xuXG5AbWl4aW4gcmV0aW5hIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMiksXG4gICAgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLFxuICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS1waXhlbC1yYXRpbzogMiksXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKSxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gcHJpbnQge1xuICBAbWVkaWEgb25seSBwcmludCB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuQG1peGluIGJyZWFrcG9pbnQteHMge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LXMge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSBhbmQgKG1heC13aWR0aDogOTU5cHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtbSB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTYwcHgpIGFuZCAobWF4LXdpZHRoOiAxMjc5cHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtbCB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTI4MHB4KSBhbmQgKG1heC13aWR0aDogMTkxOXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LXhsIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxOTIwcHgpIGFuZCAobWF4LXdpZHRoOiA1MDAwcHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtbHQtcyB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTk5cHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtbHQtbSB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTU5cHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtbHQtbCB7XG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTI3OXB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWx0LXhsIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxOTE5cHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuQG1peGluIGJyZWFrcG9pbnQtZ3QteHMge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWd0LXMge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk2MHB4KSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cbkBtaXhpbiBicmVha3BvaW50LWd0LW0ge1xuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEyODBweCkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5AbWl4aW4gYnJlYWtwb2ludC1ndC1sIHtcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxOTIwcHgpIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuIiwiQGltcG9ydCAnc3R5bGVzL193cy1taXhpbnMuc2Nzcyc7XG5AaW1wb3J0ICdzdHlsZXMvX3dzLXZhcnMuc2Nzcyc7XG5cbi5ldmVudHMtY29udGFpbmVyIHtcblxuICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIEBpbmNsdWRlIGJyZWFrcG9pbnQteHMge1xuICAgIHBhZGRpbmc6IDAgMCAkc2l6ZS1tIDA7XG4gIH1cblxuICBAaW5jbHVkZSBicmVha3BvaW50LWd0LXhzIHtcbiAgICBwYWRkaW5nOiAwIDIqJHNpemUtbDtcbiAgfVxuXG4gIC5saXZlLWV2ZW50LWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMiAqIDY0cHgpO1xuXG4gICAgLmxpdmUtZXZlbnQge1xuICAgICAgbWF4LXdpZHRoOiAxNjB2aDtcbiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgfVxuICB9XG59XG5cbi5iZXRhLWJhZGdlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0kc2l6ZS1zO1xuICBmb250LXNpemU6ICRzaXplLW07XG4gIHBhZGRpbmc6IDAuNSAqICRzaXplLXhzIDIgKiAkc2l6ZS14cztcbn1cblxuLmdvLWxpdmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogJHNpemUteHM7XG4gIHJpZ2h0OiAkc2l6ZS14cztcbn1cblxuLmxpdmUtY2FyZCB7XG4gIHdpZHRoOiA0OCU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIG1hcmdpbi1ib3R0b206ICRzaXplLXM7XG59XG5cbkBpbmNsdWRlIGJyZWFrcG9pbnQteHMge1xuICAubGl2ZS1jYXJkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuIiwiQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1OTlweCkge1xuICAuZXZlbnRzLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMCAwIDE2cHggMDtcbiAgfVxufVxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkge1xuICAuZXZlbnRzLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMCA0OHB4O1xuICB9XG59XG4uZXZlbnRzLWNvbnRhaW5lciAubGl2ZS1ldmVudC1jb250YWluZXIge1xuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAyICogNjRweCk7XG59XG4uZXZlbnRzLWNvbnRhaW5lciAubGl2ZS1ldmVudC1jb250YWluZXIgLmxpdmUtZXZlbnQge1xuICBtYXgtd2lkdGg6IDE2MHZoO1xuICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjRweCk7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5iZXRhLWJhZGdlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0xMnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIHBhZGRpbmc6IDRweCAxNnB4O1xufVxuXG4uZ28tbGl2ZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA4cHg7XG4gIHJpZ2h0OiA4cHg7XG59XG5cbi5saXZlLWNhcmQge1xuICB3aWR0aDogNDglO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XG4gIC5saXZlLWNhcmQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59IiwiJGZvbnQtZmFtaWx5LXNhbnM6ICdTZWdvZSBVSScsIFJvYm90bywgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsXG4gICdOb3RvIFNhbnMnLCBzYW5zLXNlcmlmLCAnQXBwbGUgQ29sb3IgRW1vamknLCAnU2Vnb2UgVUkgRW1vamknLCAnU2Vnb2UgVUkgU3ltYm9sJyxcbiAgJ05vdG8gQ29sb3IgRW1vamknO1xuJGZvbnQtZmFtaWx5LXNlcmlmOiBHZW9yZ2lhLCBDYW1icmlhLCAnVGltZXMgTmV3IFJvbWFuJywgVGltZXMsIHNlcmlmO1xuJGZvbnQtZmFtaWx5LW1vbm86IE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCAnTGliZXJhdGlvbiBNb25vJywgJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlO1xuJGZvbnQtZmFtaWx5LW9wZW4tc2FuczogJ09wZW4gU2Fucyc7XG4kZm9udC1mYW1pbHktb3Blbi1wb3BwaW5zOiAnUm9ib3RvJztcblxuXG4kc2l6ZS14czogOHB4O1xuJHNpemUtczogMTJweDtcbiRzaXplLW06IDE2cHg7XG4kc2l6ZS1sOiAyNHB4O1xuJHNpemUteGw6IDMycHg7XG4kc2l6ZS1sZzogMjhweDtcbiRzaXplLXh4bDogNDBweDtcblxuJG1hdC10b29sYmFyLXhzOiA1MnB4O1xuJG1hdC10b29sYmFyLWd0LXhzOiA1NnB4O1xuIl19 */\"","import { Component, OnInit, OnDestroy } from '@angular/core'\nimport { ConfigurationsService, TFetchStatus, LoggerService } from '@ws-widget/utils'\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser'\nimport { ActivatedRoute } from '@angular/router'\nimport { Subscription, interval } from 'rxjs'\nimport { MobileAppsService } from '../../../../../../../../../../src/app/services/mobile-apps.service'\nimport { IEvent } from '../models/event.model'\nimport { EventsService } from '../services/events.service'\n\n@Component({\n  selector: 'ws-app-live-events',\n  templateUrl: './live-events.component.html',\n  styleUrls: ['./live-events.component.scss'],\n})\nexport class LiveEventsComponent implements OnInit, OnDestroy {\n  liveEvents!: IEvent[]\n  liveUrl: string | null\n  showIframeSupportWarning = true\n  safeLiveUrl: SafeResourceUrl | undefined\n  urlHasLiveUrl = false\n  fetchStatus: TFetchStatus = 'fetching'\n  notifierSubscription: Subscription | undefined\n  isLiveStream = true\n  isLiveStreamMobile = true\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private sanitizer: DomSanitizer,\n    public mobileAppsSvc: MobileAppsService,\n    // private snackBar: MatSnackBar,\n    public configSvc: ConfigurationsService,\n    private eventsSvc: EventsService,\n    private logger: LoggerService,\n  ) {\n    this.liveUrl = ''\n  }\n\n  ngOnInit() {\n    this.eventsSvc.fetchLiveEvents().subscribe(\n      (response: IEvent[]) => {\n        this.logger.log('Got response', response)\n        const events = (response || []).filter(event => new Date(event.end_time) > new Date())\n        // tslint:disable-next-line:max-line-length\n        // const events = [{ event_name: 'RedHat Tech day Track 2', start_time: new Date(), end_time: new Date(new Date().getTime() + (5 * 24 * 60 * 60 * 1000)), event_url: 'https://join-apac.broadcast.skype.com/wingspan.com/98cd8c9825b64b91ba62b427f59894da' }]\n        this.liveEvents = events\n        this.fetchStatus = 'done'\n      },\n      () => {\n        this.fetchStatus = 'error'\n      },\n    )\n    if (this.configSvc.restrictedFeatures) {\n      this.isLiveStream = this.configSvc.restrictedFeatures.has('live_stream')\n      this.isLiveStreamMobile = this.configSvc.restrictedFeatures.has('live_stream_mob')\n    }\n\n    this.activatedRoute.queryParamMap.subscribe(qparamsMap => {\n      this.liveUrl = qparamsMap.get('liveUrl')\n      if (this.liveUrl) {\n        this.urlHasLiveUrl = true\n        if (this.notifierSubscription) {\n          this.notifierSubscription.unsubscribe()\n        }\n        // this.notifier('RUNNING')\n        this.notifierSubscription = interval(30000).subscribe(() => {\n          // this.notifier('RUNNING')\n        })\n        this.safeLiveUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.liveUrl)\n      } else {\n        this.urlHasLiveUrl = false\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    if (this.notifierSubscription) {\n      this.notifierSubscription.unsubscribe()\n    }\n  }\n\n  isCurrentTimeSmall(timestamp: string) {\n    return new Date() < new Date(timestamp)\n  }\n\n  get currentTime() {\n    return new Date()\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { IEvent } from '../models/event.model'\nimport { Observable } from 'rxjs'\nimport { HttpClient } from '@angular/common/http'\n\nconst PROTECTED_SLAG_V8 = '/apis/protected/v8'\n\nconst API_END_POINTS = {\n  LIVE_EVENTS: `${PROTECTED_SLAG_V8}/events`,\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EventsService {\n  constructor(private http: HttpClient) {}\n\n  fetchLiveEvents(): Observable<IEvent[]> {\n    return this.http.get<IEvent[]>(`${API_END_POINTS.LIVE_EVENTS}`)\n  }\n}\n"],"sourceRoot":"webpack:///","file":"routes-events-events-module-es5.js"}